{"version":3,"sources":["view/components/Header/Header.module.css","view/components/Header/Element/Element.module.css","view/components/Header/Button/Button.module.css","view/components/View.module.css","view/components/Canvas/Frame/Circle/Circle.module.css","view/components/Header/Button/Popup/Popup.module.css","view/Settings.ts","view/components/Canvas/Items/ItemsView/Triangle/Triangle.tsx","view/components/Canvas/Items/ItemsView/Rectangle/Rectangle.tsx","view/components/Canvas/Items/ItemsView/Ellipse/Ellipse.tsx","view/components/Canvas/Items/ItemsView/Image/Image.tsx","model/utils/typeGuards/isImage.ts","common/enum/shapes.ts","view/components/Canvas/Items/ItemFactory/ItemFactory.tsx","view/components/Canvas/Frame/Frame.tsx","view/hooks/useDragAndDrop.tsx","view/hooks/useItemDragAndDrop.tsx","view/hooks/useClickOutside.tsx","view/utils/addPropsToChildren.ts","view/hooks/useItemResize.tsx","view/components/Canvas/Frame/Circle/Circle.tsx","view/components/Canvas/ItemWrapper/ItemWrapper.tsx","view/components/Canvas/Canvas.tsx","view/components/Header/Button/Popup/Popup.tsx","view/components/Header/Button/Button.tsx","view/hooks/useComponentVisible.tsx","view/components/Header/Element/Element.tsx","view/components/Header/Element/ElementImage.tsx","view/components/Header/Header.tsx","view/components/KeyboardEventListener/KeyboardEventListener.tsx","view/components/View.tsx","model/History/History.ts","model/Commands/AbstractCommand.tsx","model/Item/BaseItem.ts","model/Item/Shape/Rectangle/Rectangle.ts","model/Item/Shape/Triangle/Triangle.ts","model/Item/Shape/Ellipse/Ellipse.ts","model/ShapeFactory/ShapeFactory.ts","model/Commands/AddShapeCommand.ts","model/Commands/DeleteShapeCommand.ts","model/Commands/ResizeShapeCommand.ts","model/Commands/MoveShapeCommand.ts","model/Item/Image/Image.ts","model/Commands/AddImageCommand.ts","model/Editor/Editor.ts","controller/Controller.ts","index.tsx"],"names":["module","exports","Settings","canvasWidth","canvasHeight","fillColor","outlineColor","Triangle","frame","x","leftTopPoint","y","width","height","points","fill","stroke","Rectangle","Ellipse","cx","cy","rx","ry","Image","path","preserveAspectRatio","xlinkHref","isImage","Shapes","object","undefined","GetPath","ItemFactory","item","GetType","Frame","fillOpacity","strokeWidth","useDragAndDrop","ref","onDragStart","onDrag","onDragEnd","pagePosition","currentPosition","move","useEffect","element","current","addEventListener","MouseDownListener","removeEventListener","event","pageX","pageY","document","MouseMoveListener","MouseUpListener","position","useItemDragAndDrop","id","setPosition","setSelectItem","moveItem","delta","size","getBoundingClientRect","useClickOutside","setClickOutside","handleClickOutside","contains","target","addPropsToChildren","children","props","React","isValidElement","cloneElement","useItemResize","setSize","resizeItem","Circle","selectItem","circleRef","useRef","GetId","className","styles","circle","r","ItemWrapper","refItem","refContainer","GetFrame","useState","Canvas","items","baseProfile","map","Popup","visible","indent","setColor","wrap","style","display","left","Button","text","initialIsVisible","isComponentVisible","setIsComponentVisible","useComponentVisible","color","button","onClick","onMouseMove","onMouseLeave","backgroundColor","Element","imageUrl","action","image","src","alt","ElementImage","inputReference","click","type","hidden","accept","onChange","file","files","reader","FileReader","readAsDataURL","onload","result","value","Header","addTriangle","addRectangle","addEllipse","addImage","canUndo","undo","canRedo","redo","history","imageUndo","imageHoverUndo","withOpacity","imageRedo","imageHoverRedo","KeyboardEventListener","deleteItem","KeyUpListener","key","code","View","controller","AddShape","CanUndo","Undo","CanRedo","Redo","DeleteItem","AddImage","canvasWrap","ResizeItem","point","MoveItem","History","MAX_DEPTH_OF_HISTORY","this","length","Error","command","pop","push","Execute","UnExecute","AddExecutedCommand","shift","AbstractCommand","executed","DoExecute","IsExecuted","DoUnExecute","BaseItem","uuid","ShapeFactory","AddShapeCommand","shapes","shape","CreateShape","DeleteShapeCommand","findIndex","splice","ResizeShapeCommand","newSize","oldSize","find","Resize","MoveShapeCommand","newPoint","oldPoint","Move","AddImageCommand","Editor","observers","addItemCommand","ExecuteCommand","addImageCommand","deleteShapeCommand","resizeShapeCommand","moveShapeCommand","NotifyObservers","observer","filter","forEach","Update","Controller","model","GetItems","Observer","func","editor","root","ReactDOM","createRoot","getElementById","render","StrictMode","RegisterObserver"],"mappings":"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","file":"static/js/main.732854ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Header_wrap__3D2ds\",\"image\":\"Header_image__15xHu\",\"imageUndo\":\"Header_imageUndo__1HnuQ\",\"imageRedo\":\"Header_imageRedo__2hSh7\",\"withOpacity\":\"Header_withOpacity__1NG3b\",\"imageHoverUndo\":\"Header_imageHoverUndo__1zzpq\",\"imageHoverRedo\":\"Header_imageHoverRedo__2YPc1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Element_wrap__1rprF\",\"image\":\"Element_image__2D8Ax\",\"text\":\"Element_text__2tchm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3GztG\",\"text\":\"Button_text__3ZMjl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasWrap\":\"View_canvasWrap__3l6n3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"Circle_circle__r1puc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Popup_wrap__3kESB\"};","const Settings = {\r\n\tcanvasWidth: 640,\r\n\tcanvasHeight: 480,\r\n\tfillColor: \"gray\",\r\n\toutlineColor: \"#000\"\r\n}\r\n\r\nexport default Settings","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../common/types/Frame\"\r\n\r\ninterface TriangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Triangle({frame}: TriangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<polygon\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\tpoints={\r\n\t\t\t\t`${x} ${y + height},  \r\n\t\t\t\t ${x + width / 2} ${y}, \r\n\t\t\t\t ${x + width} ${y + height} `\r\n\t\t\t}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Triangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../common/types/Frame\"\r\n\r\ninterface RectangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Rectangle({frame}: RectangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<rect\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Rectangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../common/types/Frame\"\r\n\r\ninterface EllipseProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Ellipse({frame}: EllipseProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<ellipse\r\n\t\t\tcx={x + width / 2}\r\n\t\t\tcy={y + height / 2}\r\n\t\t\trx={width / 2}\r\n\t\t\try={height / 2}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Ellipse","import Frame from \"../../../../../../common/types/Frame\"\r\n\r\ninterface ImageProps\r\n{\r\n\tpath: string,\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Image({path, frame}: ImageProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<image\r\n\t\t\tpreserveAspectRatio={\"none\"}\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\txlinkHref={path}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Image","import IImage from \"../../Item/Image/IImage\"\r\n\r\nfunction isImage(object: any): object is IImage\r\n{\r\n\treturn object.GetPath !== undefined\r\n}\r\n\r\nexport default isImage","enum Shapes\n{\n\tRectangle = \"Rectangle\",\n\tTriangle = \"Triangle\",\n\tEllipse = \"Ellipse\",\n\tImage = \"Image\"\n}\n\nexport default Shapes","import IItem from \"../../../../../model/Item/IItem\"\r\nimport Triangle from \"../ItemsView/Triangle/Triangle\"\r\nimport Rectangle from \"../ItemsView/Rectangle/Rectangle\"\r\nimport Ellipse from \"../ItemsView/Ellipse/Ellipse\"\r\nimport Image from \"../ItemsView/Image/Image\"\r\nimport isImage from \"../../../../../model/utils/typeGuards/isImage\"\r\nimport Frame from \"../../../../../common/types/Frame\"\r\nimport Shapes from \"../../../../../common/enum/shapes\";\r\n\r\ninterface ItemFactoryProps\r\n{\r\n\titem: IItem,\r\n\tframe: Frame\r\n}\r\n\r\nfunction ItemFactory({item, frame}: ItemFactoryProps)\r\n{\r\n\tswitch(item.GetType())\r\n\t{\r\n\tcase Shapes.Triangle:\r\n\t\treturn <Triangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase Shapes.Rectangle:\r\n\t\treturn <Rectangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase Shapes.Ellipse:\r\n\t\treturn <Ellipse\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase Shapes.Image:\r\n\t\tif(isImage(item))\r\n\t\t{\r\n\t\t\treturn <Image\r\n\t\t\t\tpath={item.GetPath()}\r\n\t\t\t\tframe={frame}\r\n\t\t\t/>\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n\r\nexport default ItemFactory","import FrameType from \"../../../../common/types/Frame\"\r\n\r\ninterface FrameProps\r\n{\r\n\tframe: FrameType\r\n}\r\n\r\nfunction Frame({frame}: FrameProps)\r\n{\r\n\treturn (\r\n\t\t<rect\r\n\t\t\tx={frame.leftTopPoint.x}\r\n\t\t\ty={frame.leftTopPoint.y}\r\n\t\t\twidth={frame.width}\r\n\t\t\theight={frame.height}\r\n\t\t\tstroke={\"#ff0000\"}\r\n\t\t\tfill=\"#000\"\r\n\t\t\tfillOpacity=\"0\"\r\n\t\t\tstrokeWidth={1}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Frame","import { RefObject, useEffect } from \"react\"\r\n\r\ntype DragHandler = (position: { x: number, y: number }) => void\r\n\r\nfunction useDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tonDragStart?: DragHandler,\r\n\tonDrag?: DragHandler,\r\n\tonDragEnd?: DragHandler,\r\n)\r\n{\r\n\tlet move: boolean = false\r\n\tlet pagePosition: { x: number, y: number }\r\n\tlet currentPosition: { x: number, y: number }\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = ref.current\r\n\t\telement?.addEventListener(\"mousedown\", MouseDownListener)\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"mousedown\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tconst MouseDownListener = (event: Event) =>\r\n\t{\r\n\t\tmove = false\r\n\r\n\t\tpagePosition = {\r\n\t\t\tx: (event as MouseEvent).pageX,\r\n\t\t\ty: (event as MouseEvent).pageY\r\n\t\t}\r\n\t\tonDragStart?.(pagePosition)\r\n\r\n\t\tdocument.addEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.addEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n\r\n\tconst MouseMoveListener = (event: MouseEvent) =>\r\n\t{\r\n\t\tmove = true\r\n\r\n\t\tconst position = {x: event.pageX - pagePosition.x, y: event.pageY - pagePosition.y}\r\n\t\tonDrag?.(position)\r\n\t\tcurrentPosition = position\r\n\t}\r\n\r\n\tconst MouseUpListener = () =>\r\n\t{\r\n\t\tmove && onDragEnd?.(currentPosition)\r\n\r\n\t\tdocument.removeEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.removeEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n}\r\n\r\nexport default useDragAndDrop","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\n\r\nfunction useItemDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tposition: { x: number, y: number },\r\n\tsetPosition: (position: { x: number, y: number }) => void,\r\n\tsetSelectItem: () => void,\r\n\tmoveItem: (id: string, position: { x: number, y: number }) => void\r\n)\r\n{\r\n\tconst onDragStart = setSelectItem\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tconst size = ref.current?.getBoundingClientRect()\r\n\t\tif(size)\r\n\t\t{\r\n\t\t\tdelta.x = position.x + delta.x < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.x + delta.x > Settings.canvasWidth - size.width\r\n\t\t\t\t\t? Settings.canvasWidth - size.width\r\n\t\t\t\t\t: position.x + delta.x\r\n\t\t\tdelta.y = position.y + delta.y < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.y + delta.y > Settings.canvasHeight - size.height\r\n\t\t\t\t\t? Settings.canvasHeight - size.height\r\n\t\t\t\t\t: position.y + delta.y\r\n\t\t}\r\n\t\tsetPosition(delta)\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tmoveItem(id, currentPosition)\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemDragAndDrop","import { useEffect, RefObject } from 'react'\r\n\r\nfunction useClickOutside<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tsetClickOutside: () => void\r\n)\r\n{\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t}\r\n\t})\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetClickOutside()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default useClickOutside","import React from \"react\"\r\n\r\nfunction addPropsToChildren<T extends object>(children: JSX.Element, props: T)\r\n{\r\n\tif(React.isValidElement(children))\r\n\t{\r\n\t\treturn React.cloneElement(children, props)\r\n\t}\r\n\treturn children\r\n}\r\n\r\nexport default addPropsToChildren","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\nimport Size from \"../../common/types/Size\"\r\nimport Frame from \"../../common/types/Frame\"\r\n\r\nfunction useItemResize<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tframe: Frame,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n)\r\n{\r\n\tconst onDragStart = () => {}\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tdelta.x = frame.width + delta.x < 1\r\n\t\t\t? 1\r\n\t\t\t: frame.leftTopPoint.x + frame.width + delta.x > Settings.canvasWidth\r\n\t\t\t\t? Settings.canvasWidth - frame.leftTopPoint.x\r\n\t\t\t\t: frame.width + delta.x\r\n\t\tdelta.y = frame.height + delta.y < 1\r\n\t\t\t? 1\r\n\t\t\t: frame.leftTopPoint.y + frame.height + delta.y > Settings.canvasHeight\r\n\t\t\t\t? Settings.canvasHeight - frame.leftTopPoint.y\r\n\t\t\t\t: frame.height + delta.y\r\n\r\n\t\tsetSize({width: delta.x, height: delta.y})\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tresizeItem(id, {width: currentPosition.x, height: currentPosition.y})\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemResize","import styles from \"./Circle.module.css\";\r\nimport useItemResize from \"../../../../hooks/useItemResize\";\r\nimport { useRef } from \"react\";\r\nimport IItem from \"../../../../../model/Item/IItem\";\r\nimport Size from \"../../../../../common/types/Size\";\r\nimport FrameType from \"../../../../../common/types/Frame\";\r\n\r\ninterface CircleProps\r\n{\r\n\tselectItem: IItem,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tframe: FrameType\r\n}\r\n\r\nexport function Circle({selectItem, setSize, resizeItem, frame}: CircleProps)\r\n{\r\n\r\n\tconst circleRef = useRef<SVGCircleElement>(null)\r\n\r\n\tuseItemResize<SVGCircleElement>(circleRef, selectItem.GetId(), frame, setSize, resizeItem)\r\n\r\n\treturn (\r\n\t\t<circle\r\n\t\t\tclassName={styles.circle}\r\n\t\t\tref={circleRef}\r\n\t\t\tcx={frame.leftTopPoint.x + frame.width}\r\n\t\t\tcy={frame.leftTopPoint.y + frame.height}\r\n\t\t\tr={4}\r\n\t\t\tfill=\"#000\"\r\n\t\t/>\r\n\t)\r\n}","import { useEffect, useRef, useState } from \"react\"\r\nimport Size from \"../../../../common/types/Size\"\r\nimport Point from \"../../../../common/types/Point\"\r\nimport IItem from \"../../../../model/Item/IItem\"\r\nimport Frame from \"../../../../common/types/Frame\"\r\nimport FrameJSX  from \"../Frame/Frame\"\r\nimport useItemDragAndDrop from \"../../../hooks/useItemDragAndDrop\"\r\nimport useClickOutside from \"../../../hooks/useClickOutside\"\r\nimport addPropsToChildren from \"../../../utils/addPropsToChildren\"\r\nimport { Circle } from \"../Frame/Circle/Circle\";\r\n\r\ninterface ItemWrapperProps\r\n{\r\n\titem: IItem,\r\n\tselectItem: IItem | null,\r\n\tsetSelectItem: (item: IItem | null) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n\tchildren: JSX.Element\r\n}\r\n\r\nfunction ItemWrapper({item, selectItem, setSelectItem, resizeItem, moveItem, children}: ItemWrapperProps)\r\n{\r\n\tconst refItem = useRef<SVGGElement>(null)\r\n\tconst refContainer = useRef<SVGGElement>(null)\r\n\r\n\tconst x = item.GetFrame().leftTopPoint.x\r\n\tconst y = item.GetFrame().leftTopPoint.y\r\n\tconst width = item.GetFrame().width\r\n\tconst height = item.GetFrame().height\r\n\r\n\tconst [position, setPosition] = useState({x, y})\r\n\tconst [size, setSize] = useState({width, height})\r\n\r\n\tconst MouseDownListener = () => {\r\n\t\tsetSelectItem(item)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = refItem.current\r\n\t\telement?.addEventListener(\"click\", MouseDownListener)\r\n\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"click\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPosition({x, y})\r\n\t}, [x, y])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSize({width, height: height})\r\n\t}, [width, height])\r\n\r\n\tuseClickOutside<Element>(refContainer, () => {setSelectItem(null)})\r\n\tuseItemDragAndDrop<Element>(refItem, item.GetId(), position, setPosition, () => {setSelectItem(item)}, moveItem)\r\n\r\n\treturn (\r\n\t\t<g ref={refContainer}>\r\n\t\t\t<g ref={refItem}>\r\n\t\t\t\t{addPropsToChildren<{ frame: Frame }>(children, {\r\n\t\t\t\t\tframe: {\r\n\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t{(selectItem?.GetId() === item.GetId()) &&\r\n                    <FrameJSX\r\n                        frame={{\r\n\t\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t\t}}\r\n                    />}\r\n\t\t\t</g>\r\n\t\t\t{(selectItem?.GetId() === item.GetId()) &&\r\n                <Circle\r\n                    selectItem={selectItem}\r\n                    setSize={setSize}\r\n                    resizeItem={resizeItem}\r\n                    frame={{\r\n\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t}}\r\n                />}\r\n\t\t</g>\r\n\r\n\t)\r\n}\r\n\r\nexport default ItemWrapper","import IItem from \"../../../model/Item/IItem\"\r\nimport Size from \"../../../common/types/Size\"\r\nimport Point from \"../../../common/types/Point\"\r\nimport ItemFactory from \"./Items/ItemFactory/ItemFactory\"\r\nimport Settings from \"../../Settings\"\r\nimport ItemWrapper from \"./ItemWrapper/ItemWrapper\";\r\n\r\ninterface CanvasProps\r\n{\r\n\tselectItem: IItem | null,\r\n\tsetSelectItem: (item: IItem | null) => void,\r\n\titems: Array<IItem>,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n}\r\n\r\nfunction Canvas({items, resizeItem, moveItem, selectItem, setSelectItem}: CanvasProps)\r\n{\r\n\treturn (\r\n\t\t<svg baseProfile=\"full\" width={Settings.canvasWidth} height={Settings.canvasHeight}>\r\n\t\t\t<rect width=\"100%\" height=\"100%\" fill=\"white\"/>\r\n\t\t\t{items.map((item: IItem) => {\r\n                return <ItemWrapper\r\n\t                key={item.GetId()}\r\n\t                item={item}\r\n\t                selectItem={selectItem}\r\n\t                setSelectItem={setSelectItem}\r\n\t                resizeItem={resizeItem}\r\n\t                moveItem={moveItem}\r\n                >\r\n                    <ItemFactory\r\n                        item={item}\r\n                        frame={item.GetFrame()}\r\n                    />\r\n                </ItemWrapper>\r\n\r\n\t\t\t})}\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Canvas","import { useEffect } from \"react\"\r\nimport styles from \"./Popup.module.css\"\r\n\r\ninterface PopupProps\r\n{\r\n\tvisible: boolean,\r\n\tindent: number,\r\n\tsetColor: (color: string) => void,\r\n\tchildren: Array<JSX.Element>,\r\n}\r\n\r\nfunction Popup({visible, indent, setColor, children}: PopupProps)\r\n{\r\n\tuseEffect(() => {\r\n\t\tif(visible)\r\n\t\t{\r\n\t\t\tsetColor(\"#7e8a97\")\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetColor(\"#cbaf87\")\r\n\t\t}\r\n\t}, [visible, setColor])\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} style={{display: visible ? \"block\" : \"none\", left: `${indent}px`}}>\r\n\t\t\t{\r\n\t\t\t\tchildren.map((element) => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Popup","import { useState } from \"react\"\r\nimport styles from \"./Button.module.css\"\r\nimport Popup from \"./Popup/Popup\"\r\nimport useComponentVisible from \"../../../hooks/useComponentVisible\"\r\n\r\ninterface ButtonProps\r\n{\r\n\ttext: string,\r\n\tindent: number,\r\n\tchildren: Array<JSX.Element>\r\n}\r\n\r\nfunction Button({text, indent, children}: ButtonProps)\r\n{\r\n\tconst {ref, isComponentVisible, setIsComponentVisible} = useComponentVisible<HTMLDivElement>(false)\r\n\tconst [color, setColor] = useState(\"#cbaf87\")\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={styles.button}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetIsComponentVisible(!isComponentVisible)\r\n\t\t\t}}\r\n\t\t\tonMouseMove={() => {\r\n\t\t\t\tsetColor(\"#7e8a97\")\r\n\t\t\t}}\r\n\t\t\tonMouseLeave={() => {\r\n\t\t\t\tif(!isComponentVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetColor(\"#cbaf87\")\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tstyle={{backgroundColor: color}}\r\n\t\t>\r\n\t\t\t<span className={styles.text}>{text}</span>\r\n\t\t\t<Popup visible={isComponentVisible} indent={indent} setColor={setColor}>\r\n\t\t\t\t{children.map(element => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})}\r\n\t\t\t</Popup>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Button","import { useState, useEffect, useRef, Ref } from 'react'\r\n\r\nexport default function useComponentVisible<T extends Element>(initialIsVisible: boolean)\r\n{\r\n\tconst [isComponentVisible, setIsComponentVisible] = useState<boolean>(initialIsVisible)\r\n\tconst ref: Ref<T> | undefined = useRef(null)\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t};\r\n\t});\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetIsComponentVisible(false)\r\n\t\t}\r\n\t};\r\n\r\n\r\n\treturn {ref, isComponentVisible, setIsComponentVisible}\r\n}","import styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction Element({imageUrl, text, action}: ElementProps)\r\n{\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={() => {action()}}>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Element","import { useRef } from \"react\"\r\nimport styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction ElementImage({imageUrl, text, action}: ElementProps)\r\n{\r\n\tconst inputReference = useRef<HTMLInputElement>(null)\r\n\r\n\tconst fileUploadAction = () => {\r\n\t\tinputReference.current && inputReference.current.click()\r\n\t}\r\n\r\n\tconst fileUploadInputChange = (event: any) => {\r\n\t\tlet file = event.target.files[0]\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file)\r\n\r\n\t\treader.onload = () => {\r\n\t\t\taction(reader.result)\r\n\t\t}\r\n\r\n\t\tevent.target.value = null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={fileUploadAction}>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\thidden\r\n\t\t\t\taccept=\"image/png, image/gif, image/jpeg\"\r\n\t\t\t\tref={inputReference}\r\n\t\t\t\tonChange={fileUploadInputChange}\r\n\t\t\t/>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ElementImage","import styles from \"./Header.module.css\"\r\nimport Button from \"./Button/Button\"\r\nimport Element from \"./Element/Element\"\r\nimport ElementImage from \"./Element/ElementImage\"\r\n\r\ninterface HeaderProps\r\n{\r\n\taddTriangle: () => void,\r\n\taddRectangle: () => void,\r\n\taddEllipse: () => void,\r\n\taddImage: (path: string) => void,\r\n\tcanUndo: () => boolean,\r\n\tundo: () => void,\r\n\tcanRedo: () => boolean,\r\n\tredo: () => void,\r\n}\r\n\r\nfunction Header({addTriangle, addRectangle, addEllipse, addImage, canUndo, undo, canRedo, redo}: HeaderProps)\r\n{\r\n\treturn (\r\n\t\t<div className={styles.wrap}>\r\n\t\t\t<Button text={\"Insert\"} indent={15}>\r\n\t\t\t\t<Element imageUrl={\"images/triangle.png\"} text={\"Triangle\"} action={addTriangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/rectangle.png\"} text={\"Rectangle\"} action={addRectangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/ellipse.png\"} text={\"Ellipse\"} action={addEllipse}/>\r\n\t\t\t\t<ElementImage imageUrl={\"images/image.png\"} text={\"Image\"} action={addImage}/>\r\n\t\t\t</Button>\r\n\t\t\t<div className={styles.history}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanUndo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageUndo + \" \" + styles.imageHoverUndo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageUndo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/undo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tundo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanRedo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageRedo + \" \" + styles.imageHoverRedo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageRedo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/redo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tredo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Header","import { useEffect } from \"react\";\nimport IItem from \"../../../model/Item/IItem\";\n\ninterface KeyboardEventListenerProps\n{\n\tselectItem: IItem | null,\n\tsetSelectItem: (item: IItem | null) => void,\n\taddRectangle: () => void,\n\taddEllipse: () => void,\n\taddTriangle: () => void,\n\tdeleteItem: (id: string) => void,\n\tcanUndo: () => boolean,\n\tundo: () => void,\n\tcanRedo: () => boolean,\n\tredo: () => void,\n}\n\nfunction KeyboardEventListener(\n\t{\n\t\tselectItem,\n\t\tsetSelectItem,\n\t\taddRectangle,\n\t\taddEllipse,\n\t\taddTriangle,\n\t\tdeleteItem,\n\t\tcanUndo,\n\t\tundo,\n\t\tcanRedo,\n\t\tredo\n}: KeyboardEventListenerProps)\n{\n\tconst KeyUpListener = (event: KeyboardEvent) =>\n\t{\n\t\tif(event.key === \"Delete\")\n\t\t{\n\t\t\tif (selectItem)\n\t\t\t{\n\t\t\t\tdeleteItem(selectItem.GetId())\n\t\t\t\tsetSelectItem(null)\n\t\t\t}\n\t\t}\n\t\tif(event.code === \"KeyR\")\n\t\t{\n\t\t\taddRectangle()\n\t\t}\n\t\tif(event.code === \"KeyE\")\n\t\t{\n\t\t\taddEllipse()\n\t\t}\n\t\tif(event.code === \"KeyT\")\n\t\t{\n\t\t\taddTriangle()\n\t\t}\n\t\tif(event.code === \"KeyZ\")\n\t\t{\n\t\t\tcanUndo() && undo()\n\t\t}\n\t\tif(event.code === \"KeyY\")\n\t\t{\n\t\t\tcanRedo() && redo()\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tdocument.addEventListener(\"keyup\", KeyUpListener)\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"keyup\", KeyUpListener)\n\t\t}\n\t})\n\t\n\treturn (\n\t\t<>\n\t\t</>\n\t)\n}\n\nexport default KeyboardEventListener","import styles from \"./View.module.css\"\r\nimport Canvas from \"./Canvas/Canvas\"\r\nimport Header from \"./Header/Header\"\r\nimport IController from \"../../controller/IController\"\r\nimport IItem from \"../../model/Item/IItem\"\r\nimport Size from \"../../common/types/Size\"\r\nimport Point from \"../../common/types/Point\"\r\nimport KeyboardEventListener from \"./KeyboardEventListener/KeyboardEventListener\"\r\nimport { useState } from \"react\";\r\n\r\ninterface ViewProps\r\n{\r\n\tcontroller: IController,\r\n\titems: Array<IItem>\r\n}\r\n\r\nfunction View({controller, items}: ViewProps)\r\n{\r\n\tconst addTriangle = () => {\r\n\t\tcontroller.AddShape(\"Triangle\")\r\n\t}\r\n\r\n\tconst addRectangle = () => {\r\n\t\tcontroller.AddShape(\"Rectangle\")\r\n\t}\r\n\r\n\tconst addEllipse = () => {\r\n\t\tcontroller.AddShape(\"Ellipse\")\r\n\t}\r\n\r\n\tconst addImage = (object: string) => {\r\n\t\tcontroller.AddImage(object)\r\n\t}\r\n\r\n\tconst deleteItem = (id: string) => {\r\n\t\tcontroller.DeleteItem(id)\r\n\t}\r\n\r\n\tconst resizeItem = (id: string, size: Size) => {\r\n\t\tcontroller.ResizeItem(id, size)\r\n\t}\r\n\r\n\tconst moveItem = (id: string, point: Point) => {\r\n\t\tcontroller.MoveItem(id, point)\r\n\t}\r\n\r\n\tconst canUndo = (): boolean => {\r\n\t\treturn controller.CanUndo()\r\n\t}\r\n\r\n\tconst undo = () => {\r\n\t\tcontroller.CanUndo() && controller.Undo()\r\n\t}\r\n\r\n\tconst canRedo = (): boolean => {\r\n\t\treturn controller.CanRedo()\r\n\t}\r\n\r\n\tconst redo = () => {\r\n\t\tcontroller.CanRedo() && controller.Redo()\r\n\t}\r\n\r\n\tconst [selectItem, setSelectItem] = useState<IItem | null>(null)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<KeyboardEventListener\r\n\t\t\t\tselectItem={selectItem}\r\n\t\t\t\tsetSelectItem={setSelectItem}\r\n\t\t\t\taddTriangle={addTriangle}\r\n\t\t\t\taddRectangle={addRectangle}\r\n\t\t\t\taddEllipse={addEllipse}\r\n\t\t\t\tdeleteItem={deleteItem}\r\n\t\t\t\tcanUndo={canUndo}\r\n\t\t\t\tundo={undo}\r\n\t\t\t\tcanRedo={canRedo}\r\n\t\t\t\tredo={redo}\r\n\t\t\t/>\r\n\t\t\t<Header addTriangle={addTriangle} addRectangle={addRectangle} addEllipse={addEllipse} addImage={addImage} canUndo={canUndo} undo={undo} canRedo={canRedo} redo={redo} />\r\n\t\t\t<div className={styles.canvasWrap}>\r\n\t\t\t\t<Canvas selectItem={selectItem} setSelectItem={setSelectItem} items={items} resizeItem={resizeItem} moveItem={moveItem} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default View","import IHistory from \"./IHistory\"\r\nimport ICommand from \"../Commands/ICommand\"\r\n\r\nclass History implements IHistory\r\n{\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.redo.length > 0\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.undo.length > 0\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tif(this.CanRedo())\r\n\t\t{\r\n\t\t\tconst command = this.redo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.undo.push(command)\r\n\t\t\t\tcommand.Execute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"the redo operation cannot be applied\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tif(this.CanUndo())\r\n\t\t{\r\n\t\t\tconst command = this.undo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.redo.push(command)\r\n\t\t\t\tcommand.UnExecute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"the undo operation cannot be applied\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ExecuteCommand(command: ICommand): void\r\n\t{\r\n\t\tcommand.Execute()\r\n\t\tthis.AddExecutedCommand(command)\r\n\t}\r\n\r\n\tprivate AddExecutedCommand(command: ICommand): void\r\n\t{\r\n\t\tthis.redo = []\r\n\t\tif(this.undo.length >= this.MAX_DEPTH_OF_HISTORY)\r\n\t\t{\r\n\t\t\tthis.undo.shift()\r\n\t\t}\r\n\r\n\t\tthis.undo.push(command)\r\n\t}\r\n\r\n\tprivate readonly MAX_DEPTH_OF_HISTORY: number = 20\r\n\tprivate undo: Array<ICommand> = []\r\n\tprivate redo: Array<ICommand> = []\r\n}\r\n\r\nexport default History","import ICommand from \"./ICommand\"\r\n\r\nabstract class AbstractCommand implements ICommand\r\n{\r\n\tpublic Execute(): void\r\n\t{\r\n\t\tthis.DoExecute()\r\n\t\tthis.executed = true\r\n\t}\r\n\r\n\tpublic UnExecute(): void\r\n\t{\r\n\t\tif (this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.DoUnExecute()\r\n\t\t\tthis.executed = false\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthrow Error(\"canceling the command before it is executed\")\r\n\t}\r\n\r\n\tpublic IsExecuted(): boolean\r\n\t{\r\n\t\treturn this.executed\r\n\t}\r\n\r\n\tprotected abstract DoExecute(): void;\r\n\r\n\tprotected abstract DoUnExecute(): void\r\n\r\n\tprivate executed = false\r\n}\r\n\r\nexport default AbstractCommand","import IItem from \"./IItem\"\r\nimport Frame from \"../../common/types/Frame\"\r\nimport Point from \"../../common/types/Point\"\r\nimport Size from \"../../common/types/Size\"\r\nimport Shapes from \"../../common/enum/shapes\"\r\n\r\nabstract class BaseItem implements IItem\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.frame = {\r\n\t\t\tleftTopPoint: {x: 50, y: 50},\r\n\t\t\twidth: 200,\r\n\t\t\theight: 100\r\n\t\t}\r\n\t}\r\n\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tGetFrame(): Frame\r\n\t{\r\n\t\treturn this.frame\r\n\t}\r\n\r\n\tMove(point: Point): void\r\n\t{\r\n\t\tthis.frame.leftTopPoint = point\r\n\t}\r\n\r\n\tResize(size: Size): void\r\n\t{\r\n\t\tthis.frame.width = size.width\r\n\t\tthis.frame.height = size.height\r\n\t}\r\n\r\n\tprivate readonly frame: Frame\r\n\tprotected abstract readonly type: Shapes\r\n\tprotected abstract readonly id: string\r\n}\r\n\r\nexport default BaseItem","import { v4 as uuid } from 'uuid'\r\nimport BaseItem from \"../../BaseItem\"\r\nimport Shapes from \"../../../../common/enum/shapes\";\r\n\r\nclass Rectangle extends BaseItem\r\n{\r\n\tprotected readonly type = Shapes.Rectangle\r\n\tprotected readonly id = uuid()\r\n}\r\n\r\nexport default Rectangle","import { v4 as uuid } from 'uuid'\r\nimport BaseItem from \"../../BaseItem\"\r\nimport Shapes from \"../../../../common/enum/shapes\";\r\n\r\nclass Triangle extends BaseItem\r\n{\r\n\tprotected readonly type = Shapes.Triangle\r\n\tprotected readonly id = uuid()\r\n}\r\n\r\nexport default Triangle","import { v4 as uuid } from 'uuid'\r\nimport BaseItem from \"../../BaseItem\"\r\nimport Shapes from \"../../../../common/enum/shapes\"\r\n\r\nclass Ellipse extends BaseItem\r\n{\r\n\tprotected readonly type = Shapes.Ellipse\r\n\tprotected readonly id = uuid()\r\n}\r\n\r\nexport default Ellipse","import IItem from \"../Item/IItem\"\r\nimport Rectangle from \"../Item/Shape/Rectangle/Rectangle\"\r\nimport Triangle from \"../Item/Shape/Triangle/Triangle\"\r\nimport Ellipse from \"../Item/Shape/Ellipse/Ellipse\"\r\n\r\nclass ShapeFactory\r\n{\r\n\tstatic CreateShape(type: string): IItem\r\n\t{\r\n\t\tif(type === \"Rectangle\")\r\n\t\t{\r\n\t\t\treturn new Rectangle()\r\n\t\t}\r\n\t\tif(type === \"Triangle\")\r\n\t\t{\r\n\t\t\treturn new Triangle()\r\n\t\t}\r\n\t\tif(type === \"Ellipse\")\r\n\t\t{\r\n\t\t\treturn new Ellipse()\r\n\t\t}\r\n\r\n\t\tthrow Error(\"incorrect shape type\")\r\n\t}\r\n}\r\n\r\nexport default ShapeFactory","import IItem from \"../Item/IItem\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\nimport ShapeFactory from \"../ShapeFactory/ShapeFactory\"\r\n\r\nclass AddShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = ShapeFactory.CreateShape(type)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shapes.pop()\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem\r\n}\r\n\r\nexport default AddShapeCommand","import IItem from \"../Item/IItem\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass DeleteShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.position = this.shapes.findIndex(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tif(this.position > -1)\r\n\t\t{\r\n\t\t\tthis.shape = this.shapes[this.position]\r\n\t\t\tthis.shapes.splice(this.position, 1)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthrow Error(\"incorrect id specified\")\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.shape)\r\n\t\t{\r\n\t\t\tthis.shapes.splice(this.position, 0, this.shape)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly position: number = 0\r\n\tprivate shape: IItem | null = null\r\n}\r\n\r\nexport default DeleteShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Size from \"../../common/types/Size\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass ResizeShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, size: Size, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newSize = size\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id) as IItem\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldSize = this.shape\r\n\t\t\t? {width: this.shape.GetFrame().width, height: this.shape.GetFrame().height}\r\n\t\t\t: this.oldSize\r\n\t\tthis.shape.Resize(this.newSize)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shape.Resize(this.oldSize)\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem\r\n\tprivate readonly newSize: Size\r\n\tprivate oldSize: Size = {width: 0, height: 0}\r\n}\r\n\r\nexport default ResizeShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Point from \"../../common/types/Point\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass MoveShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, point: Point, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newPoint = point\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id) as IItem\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldPoint = this.shape\r\n\t\t\t? this.shape.GetFrame().leftTopPoint\r\n\t\t\t: this.oldPoint\r\n\t\tthis.shape.Move(this.newPoint)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shape.Move(this.oldPoint)\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem\r\n\tprivate readonly newPoint: Point\r\n\tprivate oldPoint: Point = {x: 0, y: 0}\r\n}\r\n\r\nexport default MoveShapeCommand","import IImage from \"./IImage\"\r\nimport BaseItem from \"../BaseItem\"\r\nimport Shapes from \"../../../common/enum/shapes\"\r\nimport { v4 as uuid } from \"uuid\";\r\n\r\nclass Image extends BaseItem implements IImage\r\n{\r\n\tconstructor(path: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.path = path\r\n\t}\r\n\r\n\tGetPath(): string\r\n\t{\r\n\t\treturn this.path\r\n\t}\r\n\r\n\tprivate readonly path: string\r\n\treadonly id = uuid()\r\n\treadonly type = Shapes.Image\r\n}\r\n\r\nexport default Image","import IItem from \"../Item/IItem\"\r\nimport IImage from \"../Item/Image/IImage\"\r\nimport Image from \"../Item/Image/Image\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass AddImageCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string, path: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = new Image(path)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shapes.pop()\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IImage\r\n}\r\n\r\nexport default AddImageCommand","import IItem from \"../Item/IItem\"\r\nimport IEditor from \"./IEditor\"\r\nimport IHistory from \"../History/IHistory\"\r\nimport IObserver from \"../../common/IObserver\"\r\nimport Point from \"../../common/types/Point\"\r\nimport Size from \"../../common/types/Size\"\r\nimport History from \"../History/History\"\r\nimport AddShapeCommand from \"../Commands/AddShapeCommand\"\r\nimport DeleteShapeCommand from \"../Commands/DeleteShapeCommand\"\r\nimport ResizeShapeCommand from \"../Commands/ResizeShapeCommand\"\r\nimport MoveShapeCommand from \"../Commands/MoveShapeCommand\"\r\nimport AddImageCommand from \"../Commands/AddImageCommand\"\r\nimport IObservable from \"../../common/IObservable\"\r\nimport ICommand from \"../Commands/ICommand\"\r\n\r\nclass Editor implements IEditor, IObservable\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.history = new History()\r\n\t}\r\n\r\n\tGetItems(): Array<IItem>\r\n\t{\r\n\t\treturn this.items\r\n\t}\r\n\r\n\tAddShape(type: string): void\r\n\t{\r\n\t\tconst addItemCommand = new AddShapeCommand(this.items, type)\r\n\t\tthis.ExecuteCommand(addItemCommand)\r\n\t}\r\n\r\n\tAddImage(path: string): void\r\n\t{\r\n\t\tconst addImageCommand = new AddImageCommand(this.items, \"Image\", path)\r\n\t\tthis.ExecuteCommand(addImageCommand)\r\n\t}\r\n\r\n\tDeleteItem(id: string): void\r\n\t{\r\n\t\tconst deleteShapeCommand = new DeleteShapeCommand(this.items, id)\r\n\t\tthis.ExecuteCommand(deleteShapeCommand)\r\n\t}\r\n\r\n\tResizeItem(id: string, size: Size): void\r\n\t{\r\n\t\tconst resizeShapeCommand = new ResizeShapeCommand(this.items, size, id)\r\n\t\tthis.ExecuteCommand(resizeShapeCommand)\r\n\t}\r\n\r\n\tMoveItem(id: string, point: Point): void\r\n\t{\r\n\t\tconst moveShapeCommand = new MoveShapeCommand(this.items, point, id)\r\n\t\tthis.ExecuteCommand(moveShapeCommand)\r\n\t}\r\n\r\n\tCanUndo(): boolean\r\n\t{\r\n\t\treturn this.history.CanUndo()\r\n\t}\r\n\r\n\tUndo(): void\r\n\t{\r\n\t\tthis.history.Undo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tCanRedo(): boolean\r\n\t{\r\n\t\treturn this.history.CanRedo()\r\n\t}\r\n\r\n\tRedo(): void\r\n\t{\r\n\t\tthis.history.Redo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tRegisterObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.push(observer)\r\n\t}\r\n\r\n\tRemoveObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.filter((element: IObserver) => element !== observer)\r\n\t}\r\n\r\n\tprivate NotifyObservers(): void\r\n\t{\r\n\t\tthis.observers.forEach(observer => observer.Update())\r\n\t}\r\n\r\n\tprivate ExecuteCommand(command: ICommand): void\r\n\t{\r\n\t\tthis.history.ExecuteCommand(command)\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tprivate items: Array<IItem> = []\r\n\tprivate history: IHistory\r\n\tprivate observers: Array<IObserver> = []\r\n}\r\n\r\nexport default Editor","import IController from \"./IController\"\r\nimport IEditor from \"../model/Editor/IEditor\"\r\nimport IItem from \"../model/Item/IItem\"\r\nimport Point from \"../common/types/Point\"\r\nimport Size from \"../common/types/Size\"\r\n\r\nclass Controller implements IController\r\n{\r\n\tconstructor(model: IEditor)\r\n\t{\r\n\t\tthis.model = model\r\n\t}\r\n\r\n\tpublic GetItems(): Array<IItem>\r\n\t{\r\n\t\treturn this.model.GetItems()\r\n\t}\r\n\r\n\tpublic AddShape(type: string): void\r\n\t{\r\n\t\tthis.model.AddShape(type)\r\n\t}\r\n\r\n\tpublic AddImage(path: string): void\r\n\t{\r\n\t\tthis.model.AddImage(path)\r\n\t}\r\n\r\n\tpublic DeleteItem(id: string): void\r\n\t{\r\n\t\tthis.model.DeleteItem(id)\r\n\t}\r\n\r\n\tpublic ResizeItem(id: string, size: Size): void\r\n\t{\r\n\t\tthis.model.ResizeItem(id, size)\r\n\t}\r\n\r\n\tpublic MoveItem(id: string, point: Point): void\r\n\t{\r\n\t\tthis.model.MoveItem(id, point)\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.model.CanUndo()\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tthis.model.Undo()\r\n\t}\r\n\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.model.CanRedo()\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tthis.model.Redo()\r\n\t}\r\n\r\n\tprivate model: IEditor\r\n}\r\n\r\nexport default Controller","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport IEditor from \"./model/Editor/IEditor\"\r\nimport IController from \"./controller/IController\"\r\nimport View from \"./view/components/View\"\r\nimport Editor from \"./model/Editor/Editor\"\r\nimport Controller from \"./controller/Controller\"\r\nimport IObservable from \"./common/IObservable\";\r\nimport IObserver from \"./common/IObserver\";\r\n\r\nclass Observer implements IObserver\r\n{\r\n\tconstructor(func: Function)\r\n\t{\r\n\t\tthis.func = func\r\n\t}\r\n\r\n\tUpdate(): void\r\n\t{\r\n\t\tthis.func()\r\n\t}\r\n\r\n\tprivate readonly func: Function\r\n}\r\n\r\ntype EditorType = IEditor & IObservable\r\n\r\nconst editor: EditorType = new Editor()\r\nconst controller: IController = new Controller(editor)\r\n\r\n\r\nconst root = ReactDOM.createRoot(\r\n\tdocument.getElementById('root') as HTMLElement\r\n);\r\n\r\nfunction render()\r\n{\r\n\troot.render(\r\n\t\t<React.StrictMode>\r\n\t\t\t<View items={editor.GetItems()} controller={controller}/>\r\n\t\t</React.StrictMode>\r\n\t);\r\n}\r\n\r\nconst observer =  new Observer(render)\r\neditor.RegisterObserver(observer)\r\n\r\nrender()"],"sourceRoot":""}