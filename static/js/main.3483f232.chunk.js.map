{"version":3,"sources":["view/components/Header/Header.module.css","view/components/Header/Element/Element.module.css","view/components/Header/Button/Button.module.css","view/components/View.module.css","view/components/Canvas/Frame/Circle/Circle.module.css","view/components/Header/Button/Popup/Popup.module.css","view/Settings.ts","view/components/Canvas/Items/ItemsView/Triangle/Triangle.tsx","view/components/Canvas/Items/ItemsView/Rectangle/Rectangle.tsx","view/components/Canvas/Items/ItemsView/Ellipse/Ellipse.tsx","view/components/Canvas/Items/ItemsView/Image/Image.tsx","model/utils/typeGuards/isImage.ts","view/components/Canvas/Items/ItemFactory/ItemFactory.tsx","view/components/Canvas/Frame/Frame.tsx","view/hooks/useDragAndDrop.tsx","view/hooks/useItemDragAndDrop.tsx","view/hooks/useClickOutside.tsx","view/utils/addPropsToChildren.ts","view/hooks/useItemResize.tsx","view/components/Canvas/Frame/Circle/Circle.tsx","view/components/Canvas/ItemWrapper/ItemWrapper.tsx","view/components/Canvas/Canvas.tsx","view/components/Header/Button/Popup/Popup.tsx","view/components/Header/Button/Button.tsx","view/hooks/useComponentVisible.tsx","view/components/Header/Element/Element.tsx","view/components/Header/Element/ElementImage.tsx","view/components/Header/Header.tsx","view/components/View.tsx","model/History/History.ts","model/Commands/AbstractCommand.tsx","model/Item/Shape/Shape.ts","model/Item/Shape/Rectangle/Rectangle.ts","model/Item/Shape/Triangle/Triangle.ts","model/Item/Shape/Ellipse/Ellipse.ts","model/ShapeFactory/ShapeFactory.ts","model/Commands/AddShapeCommand.ts","model/Commands/DeleteShapeCommand.ts","model/Commands/ResizeShapeCommand.ts","model/Commands/MoveShapeCommand.ts","model/Item/Image/Image.ts","model/Commands/AddImageCommand.ts","model/Editor/Editor.ts","controller/Controller.ts","index.tsx"],"names":["module","exports","Settings","canvasWidth","canvasHeight","fillColor","outlineColor","Triangle","frame","x","leftTopPoint","y","width","height","points","fill","stroke","Rectangle","Ellipse","cx","cy","rx","ry","Image","path","preserveAspectRatio","xlinkHref","isImage","object","undefined","GetPath","ItemFactory","item","GetType","Frame","fillOpacity","strokeWidth","useDragAndDrop","ref","onDragStart","onDrag","onDragEnd","pagePosition","currentPosition","move","useEffect","element","current","addEventListener","MouseDownListener","removeEventListener","event","pageX","pageY","document","MouseMoveListener","MouseUpListener","position","useItemDragAndDrop","id","setPosition","setSelectItem","moveItem","delta","size","getBoundingClientRect","useClickOutside","setClickOutside","handleClickOutside","contains","target","addPropsToChildren","children","props","React","isValidElement","cloneElement","useItemResize","setSize","resizeItem","Circle","selectItem","circleRef","useRef","GetId","className","styles","circle","r","ItemWrapper","refItem","refContainer","GetFrame","useState","Canvas","items","deleteItem","KeyUpListener","key","baseProfile","map","Popup","visible","indent","setColor","wrap","style","display","left","Button","text","initialIsVisible","isComponentVisible","setIsComponentVisible","useComponentVisible","color","button","onClick","onMouseMove","onMouseLeave","backgroundColor","Element","imageUrl","action","image","src","alt","ElementImage","inputReference","click","type","hidden","accept","onChange","file","files","reader","FileReader","readAsDataURL","onload","result","value","Header","addTriangle","addRectangle","addEllipse","addImage","canUndo","undo","canRedo","redo","toUpperCase","history","imageUndo","imageHoverUndo","withOpacity","imageRedo","imageHoverRedo","View","controller","AddShape","AddImage","CanUndo","Undo","CanRedo","Redo","canvasWrap","DeleteItem","ResizeItem","point","MoveItem","History","MAX_DEPTH_OF_HISTORY","this","length","Error","command","pop","push","Execute","UnExecute","AddExecutedCommand","shift","AbstractCommand","executed","DoExecute","IsExecuted","DoUnExecute","Shape","uuid","ShapeFactory","AddShapeCommand","shapes","shape","CreateShape","DeleteShapeCommand","findIndex","splice","ResizeShapeCommand","newSize","oldSize","find","Resize","MoveShapeCommand","newPoint","oldPoint","Move","AddImageCommand","Editor","observers","addItemCommand","ExecuteCommand","addImageCommand","deleteShapeCommand","resizeShapeCommand","moveShapeCommand","NotifyObservers","observer","filter","forEach","Controller","model","GetItems","root","ReactDOM","createRoot","getElementById","editor","render","StrictMode","RegisterObserver"],"mappings":"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","file":"static/js/main.3483f232.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Header_wrap__3D2ds\",\"image\":\"Header_image__15xHu\",\"imageUndo\":\"Header_imageUndo__1HnuQ\",\"imageRedo\":\"Header_imageRedo__2hSh7\",\"withOpacity\":\"Header_withOpacity__1NG3b\",\"imageHoverUndo\":\"Header_imageHoverUndo__1zzpq\",\"imageHoverRedo\":\"Header_imageHoverRedo__2YPc1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Element_wrap__1rprF\",\"image\":\"Element_image__2D8Ax\",\"text\":\"Element_text__2tchm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3GztG\",\"text\":\"Button_text__3ZMjl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasWrap\":\"View_canvasWrap__3l6n3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"Circle_circle__r1puc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Popup_wrap__3kESB\"};","const Settings = {\r\n\tcanvasWidth: 640,\r\n\tcanvasHeight: 480,\r\n\tfillColor: \"gray\",\r\n\toutlineColor: \"#000\"\r\n}\r\n\r\nexport default Settings","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface TriangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Triangle({frame}: TriangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<polygon\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\tpoints={\r\n\t\t\t\t`${x} ${y + height},  \r\n\t\t\t\t ${x + width / 2} ${y}, \r\n\t\t\t\t ${x + width} ${y + height} `\r\n\t\t\t}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Triangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface RectangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Rectangle({frame}: RectangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<rect\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Rectangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface EllipseProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Ellipse({frame}: EllipseProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<ellipse\r\n\t\t\tcx={x + width / 2}\r\n\t\t\tcy={y + height / 2}\r\n\t\t\trx={width / 2}\r\n\t\t\try={height / 2}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Ellipse","import Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface ImageProps\r\n{\r\n\tpath: string,\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Image({path, frame}: ImageProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<image\r\n\t\t\tpreserveAspectRatio={\"none\"}\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\txlinkHref={path}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Image","import IImage from \"../../Item/Image/IImage\"\r\n\r\nfunction isImage(object: any): object is IImage\r\n{\r\n\treturn object.GetPath !== undefined\r\n}\r\n\r\nexport default isImage","import IItem from \"../../../../../model/Item/IItem\"\r\nimport Triangle from \"../ItemsView/Triangle/Triangle\"\r\nimport Rectangle from \"../ItemsView/Rectangle/Rectangle\"\r\nimport Ellipse from \"../ItemsView/Ellipse/Ellipse\"\r\nimport Image from \"../ItemsView/Image/Image\"\r\nimport isImage from \"../../../../../model/utils/typeGuards/isImage\"\r\nimport Frame from \"../../../../../model/utils/types/Frame\"\r\n\r\ninterface ItemFactoryProps\r\n{\r\n\titem: IItem,\r\n\tframe: Frame\r\n}\r\n\r\nfunction ItemFactory({item, frame}: ItemFactoryProps)\r\n{\r\n\tswitch(item.GetType())\r\n\t{\r\n\tcase \"Triangle\":\r\n\t\treturn <Triangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Rectangle\":\r\n\t\treturn <Rectangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Ellipse\":\r\n\t\treturn <Ellipse\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Image\":\r\n\t\tif(isImage(item))\r\n\t\t{\r\n\t\t\treturn <Image\r\n\t\t\t\tpath={item.GetPath()}\r\n\t\t\t\tframe={frame}\r\n\t\t\t/>\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n\r\nexport default ItemFactory","import FrameType from \"../../../../model/utils/types/Frame\"\r\n\r\ninterface FrameProps\r\n{\r\n\tframe: FrameType\r\n}\r\n\r\nfunction Frame({frame}: FrameProps)\r\n{\r\n\treturn (\r\n\t\t<rect\r\n\t\t\tx={frame.leftTopPoint.x}\r\n\t\t\ty={frame.leftTopPoint.y}\r\n\t\t\twidth={frame.width}\r\n\t\t\theight={frame.height}\r\n\t\t\tstroke={\"#ff0000\"}\r\n\t\t\tfill=\"#000\"\r\n\t\t\tfillOpacity=\"0\"\r\n\t\t\tstrokeWidth={1}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Frame","import { RefObject, useEffect } from \"react\"\r\n\r\ntype DragHandler = (position: { x: number, y: number }) => void\r\n\r\nfunction useDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tonDragStart?: DragHandler,\r\n\tonDrag?: DragHandler,\r\n\tonDragEnd?: DragHandler,\r\n)\r\n{\r\n\tlet move: boolean = false\r\n\tlet pagePosition: { x: number, y: number }\r\n\tlet currentPosition: { x: number, y: number }\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = ref.current\r\n\t\telement?.addEventListener(\"mousedown\", MouseDownListener)\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"mousedown\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tconst MouseDownListener = (event: Event) =>\r\n\t{\r\n\t\tmove = false\r\n\r\n\t\tpagePosition = {\r\n\t\t\tx: (event as MouseEvent).pageX,\r\n\t\t\ty: (event as MouseEvent).pageY\r\n\t\t}\r\n\t\tonDragStart?.(pagePosition)\r\n\r\n\t\tdocument.addEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.addEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n\r\n\tconst MouseMoveListener = (event: MouseEvent) =>\r\n\t{\r\n\t\tmove = true\r\n\r\n\t\tconst position = {x: event.pageX - pagePosition.x, y: event.pageY - pagePosition.y}\r\n\t\tonDrag?.(position)\r\n\t\tcurrentPosition = position\r\n\t}\r\n\r\n\tconst MouseUpListener = () =>\r\n\t{\r\n\t\tmove && onDragEnd?.(currentPosition)\r\n\r\n\t\tdocument.removeEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.removeEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n}\r\n\r\nexport default useDragAndDrop","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\n\r\nfunction useItemDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tposition: { x: number, y: number },\r\n\tsetPosition: (position: { x: number, y: number }) => void,\r\n\tsetSelectItem: () => void,\r\n\tmoveItem: (id: string, position: { x: number, y: number }) => void\r\n)\r\n{\r\n\tconst onDragStart = setSelectItem\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tconst size = ref.current?.getBoundingClientRect()\r\n\t\tif(size)\r\n\t\t{\r\n\t\t\tdelta.x = position.x + delta.x < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.x + delta.x > Settings.canvasWidth - size.width\r\n\t\t\t\t\t? Settings.canvasWidth - size.width\r\n\t\t\t\t\t: position.x + delta.x\r\n\t\t\tdelta.y = position.y + delta.y < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.y + delta.y > Settings.canvasHeight - size.height\r\n\t\t\t\t\t? Settings.canvasHeight - size.height\r\n\t\t\t\t\t: position.y + delta.y\r\n\t\t}\r\n\t\tsetPosition(delta)\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tmoveItem(id, currentPosition)\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemDragAndDrop","import { useEffect, RefObject } from 'react'\r\n\r\nfunction useClickOutside<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tsetClickOutside: () => void\r\n)\r\n{\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t}\r\n\t})\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetClickOutside()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default useClickOutside","import React from \"react\"\r\n\r\nfunction addPropsToChildren<T extends object>(children: JSX.Element, props: T)\r\n{\r\n\tif(React.isValidElement(children))\r\n\t{\r\n\t\treturn React.cloneElement(children, props)\r\n\t}\r\n\treturn children\r\n}\r\n\r\nexport default addPropsToChildren","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\nimport Size from \"../../model/utils/types/Size\"\r\nimport Frame from \"../../model/utils/types/Frame\"\r\n\r\nfunction useItemResize<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tframe: Frame,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n)\r\n{\r\n\tconst onDragStart = () => {}\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tdelta.x = frame.width + delta.x < 1\r\n\t\t\t? 1\r\n\t\t\t: frame.leftTopPoint.x + frame.width + delta.x > Settings.canvasWidth\r\n\t\t\t\t? Settings.canvasWidth - frame.leftTopPoint.x\r\n\t\t\t\t: frame.width + delta.x\r\n\t\tdelta.y = frame.height + delta.y < 1\r\n\t\t\t? 1\r\n\t\t\t: frame.leftTopPoint.y + frame.height + delta.y > Settings.canvasHeight\r\n\t\t\t\t? Settings.canvasHeight - frame.leftTopPoint.y\r\n\t\t\t\t: frame.height + delta.y\r\n\r\n\t\tsetSize({width: delta.x, height: delta.y})\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tresizeItem(id, {width: currentPosition.x, height: currentPosition.y})\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemResize","import styles from \"./Circle.module.css\";\r\nimport useItemResize from \"../../../../hooks/useItemResize\";\r\nimport { useRef } from \"react\";\r\nimport IItem from \"../../../../../model/Item/IItem\";\r\nimport Size from \"../../../../../model/utils/types/Size\";\r\nimport FrameType from \"../../../../../model/utils/types/Frame\";\r\n\r\ninterface CircleProps\r\n{\r\n\tselectItem: IItem,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tframe: FrameType\r\n}\r\n\r\nexport function Circle({selectItem, setSize, resizeItem, frame}: CircleProps)\r\n{\r\n\r\n\tconst circleRef = useRef<SVGCircleElement>(null)\r\n\r\n\tuseItemResize<SVGCircleElement>(circleRef, selectItem.GetId(), frame, setSize, resizeItem)\r\n\r\n\treturn (\r\n\t\t<circle\r\n\t\t\tclassName={styles.circle}\r\n\t\t\tref={circleRef}\r\n\t\t\tcx={frame.leftTopPoint.x + frame.width}\r\n\t\t\tcy={frame.leftTopPoint.y + frame.height}\r\n\t\t\tr={4}\r\n\t\t\tfill=\"#000\"\r\n\t\t/>\r\n\t)\r\n}","import { useEffect, useRef, useState } from \"react\"\r\nimport Size from \"../../../../model/utils/types/Size\"\r\nimport Point from \"../../../../model/utils/types/Point\"\r\nimport IItem from \"../../../../model/Item/IItem\"\r\nimport Frame from \"../../../../model/utils/types/Frame\"\r\nimport FrameJSX  from \"../Frame/Frame\"\r\nimport useItemDragAndDrop from \"../../../hooks/useItemDragAndDrop\"\r\nimport useClickOutside from \"../../../hooks/useClickOutside\"\r\nimport addPropsToChildren from \"../../../utils/addPropsToChildren\"\r\nimport { Circle } from \"../Frame/Circle/Circle\";\r\n\r\ninterface ItemWrapperProps\r\n{\r\n\titem: IItem,\r\n\tselectItem: IItem | null,\r\n\tsetSelectItem: (item: IItem | null) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n\tchildren: JSX.Element\r\n}\r\n\r\nfunction ItemWrapper({item, selectItem, setSelectItem, resizeItem, moveItem, children}: ItemWrapperProps)\r\n{\r\n\tconst refItem = useRef<SVGGElement>(null)\r\n\tconst refContainer = useRef<SVGGElement>(null)\r\n\r\n\tconst x = item.GetFrame().leftTopPoint.x\r\n\tconst y = item.GetFrame().leftTopPoint.y\r\n\tconst width = item.GetFrame().width\r\n\tconst height = item.GetFrame().height\r\n\r\n\tconst [position, setPosition] = useState({x, y})\r\n\tconst [size, setSize] = useState({width, height})\r\n\r\n\tconst MouseDownListener = () => {\r\n\t\tsetSelectItem(item)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = refItem.current\r\n\t\telement?.addEventListener(\"click\", MouseDownListener)\r\n\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"click\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPosition({x, y})\r\n\t}, [x, y])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSize({width, height: height})\r\n\t}, [width, height])\r\n\r\n\tuseClickOutside<Element>(refContainer, () => {setSelectItem(null)})\r\n\tuseItemDragAndDrop<Element>(refItem, item.GetId(), position, setPosition, () => {setSelectItem(item)}, moveItem)\r\n\r\n\treturn (\r\n\t\t<g ref={refContainer}>\r\n\t\t\t<g ref={refItem}>\r\n\t\t\t\t{addPropsToChildren<{ frame: Frame }>(children, {\r\n\t\t\t\t\tframe: {\r\n\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t{(selectItem?.GetId() === item.GetId()) &&\r\n                    <FrameJSX\r\n                        frame={{\r\n\t\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t\t}}\r\n                    />}\r\n\t\t\t</g>\r\n\t\t\t{(selectItem?.GetId() === item.GetId()) &&\r\n                <Circle\r\n                    selectItem={selectItem}\r\n                    setSize={setSize}\r\n                    resizeItem={resizeItem}\r\n                    frame={{\r\n\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t}}\r\n                />}\r\n\t\t</g>\r\n\r\n\t)\r\n}\r\n\r\nexport default ItemWrapper","import { useEffect, useState } from \"react\"\r\nimport IItem from \"../../../model/Item/IItem\"\r\nimport Size from \"../../../model/utils/types/Size\"\r\nimport Point from \"../../../model/utils/types/Point\"\r\nimport ItemFactory from \"./Items/ItemFactory/ItemFactory\"\r\nimport Settings from \"../../Settings\"\r\nimport ItemWrapper from \"./ItemWrapper/ItemWrapper\";\r\n\r\ninterface CanvasProps\r\n{\r\n\titems: Array<IItem>,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n\tdeleteItem: (id: string) => void,\r\n}\r\n\r\nfunction Canvas(\r\n\t{\r\n\t\titems,\r\n\t\tresizeItem,\r\n\t\tmoveItem,\r\n\t\tdeleteItem\r\n\t}: CanvasProps)\r\n{\r\n\tconst [selectItem, setSelectItem] = useState<IItem | null>(null)\r\n\r\n\tconst KeyUpListener = (event: KeyboardEvent) =>\r\n\t{\r\n\t\tif(event.key === \"Delete\")\r\n\t\t{\r\n\t\t\tif (selectItem)\r\n\t\t\t{\r\n\t\t\t\tdeleteItem(selectItem.GetId())\r\n\t\t\t\tsetSelectItem(null)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"keyup\", KeyUpListener)\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keyup\", KeyUpListener)\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<svg baseProfile=\"full\" width={Settings.canvasWidth} height={Settings.canvasHeight}>\r\n\t\t\t<rect width=\"100%\" height=\"100%\" fill=\"white\"/>\r\n\t\t\t{items.map((item: IItem) => {\r\n                return <ItemWrapper\r\n\t                key={item.GetId()}\r\n\t                item={item}\r\n\t                selectItem={selectItem}\r\n\t                setSelectItem={setSelectItem}\r\n\t                resizeItem={resizeItem}\r\n\t                moveItem={moveItem}\r\n                >\r\n                    <ItemFactory\r\n                        item={item}\r\n                        frame={item.GetFrame()}\r\n                    />\r\n                </ItemWrapper>\r\n\r\n\t\t\t})}\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Canvas","import { useEffect } from \"react\"\r\nimport styles from \"./Popup.module.css\"\r\n\r\ninterface PopupProps\r\n{\r\n\tvisible: boolean,\r\n\tindent: number,\r\n\tsetColor: (color: string) => void,\r\n\tchildren: Array<JSX.Element>,\r\n}\r\n\r\nfunction Popup({visible, indent, setColor, children}: PopupProps)\r\n{\r\n\tuseEffect(() => {\r\n\t\tif(visible)\r\n\t\t{\r\n\t\t\tsetColor(\"#7e8a97\")\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetColor(\"#cbaf87\")\r\n\t\t}\r\n\t}, [visible, setColor])\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} style={{display: visible ? \"block\" : \"none\", left: `${indent}px`}}>\r\n\t\t\t{\r\n\t\t\t\tchildren.map((element) => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Popup","import { useState } from \"react\"\r\nimport styles from \"./Button.module.css\"\r\nimport Popup from \"./Popup/Popup\"\r\nimport useComponentVisible from \"../../../hooks/useComponentVisible\"\r\n\r\ninterface ButtonProps\r\n{\r\n\ttext: string,\r\n\tindent: number,\r\n\tchildren: Array<JSX.Element>\r\n}\r\n\r\nfunction Button({text, indent, children}: ButtonProps)\r\n{\r\n\tconst {ref, isComponentVisible, setIsComponentVisible} = useComponentVisible<HTMLDivElement>(false)\r\n\tconst [color, setColor] = useState(\"#cbaf87\")\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={styles.button}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetIsComponentVisible(!isComponentVisible)\r\n\t\t\t}}\r\n\t\t\tonMouseMove={() => {\r\n\t\t\t\tsetColor(\"#7e8a97\")\r\n\t\t\t}}\r\n\t\t\tonMouseLeave={() => {\r\n\t\t\t\tif(!isComponentVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetColor(\"#cbaf87\")\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tstyle={{backgroundColor: color}}\r\n\t\t>\r\n\t\t\t<span className={styles.text}>{text}</span>\r\n\t\t\t<Popup visible={isComponentVisible} indent={indent} setColor={setColor}>\r\n\t\t\t\t{children.map(element => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})}\r\n\t\t\t</Popup>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Button","import { useState, useEffect, useRef, Ref } from 'react'\r\n\r\nexport default function useComponentVisible<T extends Element>(initialIsVisible: boolean)\r\n{\r\n\tconst [isComponentVisible, setIsComponentVisible] = useState<boolean>(initialIsVisible)\r\n\tconst ref: Ref<T> | undefined = useRef(null)\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetIsComponentVisible(false)\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t};\r\n\t});\r\n\r\n\treturn {ref, isComponentVisible, setIsComponentVisible}\r\n}","import styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction Element({imageUrl, text, action}: ElementProps)\r\n{\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={() => {action()}}>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Element","import { useRef } from \"react\"\r\nimport styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction ElementImage({imageUrl, text, action}: ElementProps)\r\n{\r\n\tconst inputReference = useRef<HTMLInputElement>(null)\r\n\r\n\tconst fileUploadAction = () => {\r\n\t\tinputReference.current && inputReference.current.click()\r\n\t}\r\n\r\n\tconst fileUploadInputChange = (event: any) => {\r\n\t\tlet file = event.target.files[0]\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file)\r\n\r\n\t\treader.onload = () => {\r\n\t\t\taction(reader.result)\r\n\t\t}\r\n\r\n\t\tevent.target.value = null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={fileUploadAction}>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\thidden\r\n\t\t\t\taccept=\"image/png, image/gif, image/jpeg\"\r\n\t\t\t\tref={inputReference}\r\n\t\t\t\tonChange={fileUploadInputChange}\r\n\t\t\t/>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ElementImage","import styles from \"./Header.module.css\"\r\nimport Button from \"./Button/Button\"\r\nimport Element from \"./Element/Element\"\r\nimport ElementImage from \"./Element/ElementImage\"\r\nimport { useEffect } from \"react\";\r\n\r\ninterface HeaderProps\r\n{\r\n\taddTriangle: () => void,\r\n\taddRectangle: () => void,\r\n\taddEllipse: () => void,\r\n\taddImage: (path: string) => void,\r\n\tcanUndo: () => boolean,\r\n\tundo: () => void,\r\n\tcanRedo: () => boolean,\r\n\tredo: () => void,\r\n}\r\n\r\nfunction Header({addTriangle, addRectangle, addEllipse, addImage, canUndo, undo, canRedo, redo}: HeaderProps)\r\n{\r\n\tconst KeyUpListener = (event: KeyboardEvent) =>\r\n\t{\r\n\t\tif(event.key.toUpperCase() === \"R\")\r\n\t\t{\r\n\t\t\taddRectangle()\r\n\t\t}\r\n\t\tif(event.key.toUpperCase() === \"E\" || event.key.toUpperCase() === \"C\")\r\n\t\t{\r\n\t\t\taddEllipse()\r\n\t\t}\r\n\t\tif(event.key.toUpperCase() === \"T\")\r\n\t\t{\r\n\t\t\taddTriangle()\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"keyup\", KeyUpListener)\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keyup\", KeyUpListener)\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap}>\r\n\t\t\t<Button text={\"Insert\"} indent={15}>\r\n\t\t\t\t<Element imageUrl={\"images/triangle.png\"} text={\"Triangle\"} action={addTriangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/rectangle.png\"} text={\"Rectangle\"} action={addRectangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/ellipse.png\"} text={\"Ellipse\"} action={addEllipse}/>\r\n\t\t\t\t<ElementImage imageUrl={\"images/image.png\"} text={\"Image\"} action={addImage}/>\r\n\t\t\t</Button>\r\n\t\t\t<div className={styles.history}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanUndo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageUndo + \" \" + styles.imageHoverUndo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageUndo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/undo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcanUndo() && undo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanRedo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageRedo + \" \" + styles.imageHoverRedo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageRedo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/redo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcanRedo() && redo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Header","import styles from \"./View.module.css\"\r\nimport Canvas from \"./Canvas/Canvas\"\r\nimport Header from \"./Header/Header\"\r\nimport IController from \"../../controller/IController\"\r\nimport IItem from \"../../model/Item/IItem\"\r\nimport Size from \"../../model/utils/types/Size\"\r\nimport Point from \"../../model/utils/types/Point\"\r\n\r\ninterface ViewProps\r\n{\r\n\tcontroller: IController,\r\n\titems: Array<IItem>\r\n}\r\n\r\nfunction View({controller, items}: ViewProps)\r\n{\r\n\tconst addTriangle = () => {\r\n\t\tcontroller.AddShape(\"Triangle\")\r\n\t}\r\n\r\n\tconst addRectangle = () => {\r\n\t\tcontroller.AddShape(\"Rectangle\")\r\n\t}\r\n\r\n\tconst addEllipse = () => {\r\n\t\tcontroller.AddShape(\"Ellipse\")\r\n\t}\r\n\r\n\tconst addImage = (object: string) => {\r\n\t\tcontroller.AddImage(object)\r\n\t}\r\n\r\n\tconst deleteItem = (id: string) => {\r\n\t\tcontroller.DeleteItem(id)\r\n\t}\r\n\r\n\tconst resizeItem = (id: string, size: Size) => {\r\n\t\tcontroller.ResizeItem(id, size)\r\n\t}\r\n\r\n\tconst moveItem = (id: string, point: Point) => {\r\n\t\tcontroller.MoveItem(id, point)\r\n\t}\r\n\r\n\tconst canUndo = (): boolean => {\r\n\t\treturn controller.CanUndo()\r\n\t}\r\n\r\n\tconst undo = () => {\r\n\t\tcontroller.Undo()\r\n\t}\r\n\r\n\tconst canRedo = (): boolean => {\r\n\t\treturn controller.CanRedo()\r\n\t}\r\n\r\n\tconst redo = () => {\r\n\t\tcontroller.Redo()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header\r\n\t\t\t\taddTriangle={addTriangle}\r\n\t\t\t\taddRectangle={addRectangle}\r\n\t\t\t\taddEllipse={addEllipse}\r\n\t\t\t\taddImage={addImage}\r\n\t\t\t\tcanUndo={canUndo}\r\n\t\t\t\tundo={undo}\r\n\t\t\t\tcanRedo={canRedo}\r\n\t\t\t\tredo={redo}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.canvasWrap}>\r\n\t\t\t\t<Canvas\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tdeleteItem={deleteItem}\r\n\t\t\t\t\tresizeItem={resizeItem}\r\n\t\t\t\t\tmoveItem={moveItem}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default View","import IHistory from \"./IHistory\"\r\nimport ICommand from \"../Commands/ICommand\"\r\n\r\nclass History implements IHistory\r\n{\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.redo.length > 0\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.undo.length > 0\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tif(this.CanRedo())\r\n\t\t{\r\n\t\t\tconst command = this.redo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.undo.push(command)\r\n\t\t\t\tcommand.Execute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"the redo operation cannot be applied\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tif(this.CanUndo())\r\n\t\t{\r\n\t\t\tconst command = this.undo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.redo.push(command)\r\n\t\t\t\tcommand.UnExecute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"the undo operation cannot be applied\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ExecuteCommand(command: ICommand): void\r\n\t{\r\n\t\tcommand.Execute()\r\n\t\tthis.AddExecutedCommand(command)\r\n\t}\r\n\r\n\tprivate AddExecutedCommand(command: ICommand): void\r\n\t{\r\n\t\tthis.redo = []\r\n\t\tif(this.undo.length >= this.MAX_DEPTH_OF_HISTORY)\r\n\t\t{\r\n\t\t\tthis.undo.shift()\r\n\t\t}\r\n\r\n\t\tthis.undo.push(command)\r\n\t}\r\n\r\n\tprivate readonly MAX_DEPTH_OF_HISTORY: number = 20\r\n\tprivate undo: Array<ICommand> = []\r\n\tprivate redo: Array<ICommand> = []\r\n}\r\n\r\nexport default History","import ICommand from \"./ICommand\"\r\n\r\nabstract class AbstractCommand implements ICommand\r\n{\r\n\tpublic Execute(): void\r\n\t{\r\n\t\tthis.DoExecute()\r\n\t\tthis.executed = true\r\n\t}\r\n\r\n\tpublic UnExecute(): void\r\n\t{\r\n\t\tif (this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.DoUnExecute()\r\n\t\t\tthis.executed = false\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthrow Error(\"undo the command before it is executed\")\r\n\t}\r\n\r\n\tpublic IsExecuted(): boolean\r\n\t{\r\n\t\treturn this.executed\r\n\t}\r\n\r\n\tprotected abstract DoExecute(): void;\r\n\r\n\tprotected abstract DoUnExecute(): void\r\n\r\n\tprivate executed = false\r\n}\r\n\r\nexport default AbstractCommand","import IItem from \"../IItem\"\r\nimport Frame from \"../../utils/types/Frame\"\r\nimport Point from \"../../utils/types/Point\"\r\nimport Size from \"../../utils/types/Size\"\r\n\r\nabstract class Shape implements IItem\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.frame = {\r\n\t\t\tleftTopPoint: {x: 50, y: 50},\r\n\t\t\twidth: 200,\r\n\t\t\theight: 100\r\n\t\t}\r\n\t}\r\n\r\n\tabstract GetType(): string\r\n\r\n\tabstract GetId(): string\r\n\r\n\tGetFrame(): Frame\r\n\t{\r\n\t\treturn this.frame\r\n\t}\r\n\r\n\tMove(point: Point): void\r\n\t{\r\n\t\tthis.frame.leftTopPoint = point\r\n\t}\r\n\r\n\tResize(size: Size): void\r\n\t{\r\n\t\tthis.frame.width = size.width\r\n\t\tthis.frame.height = size.height\r\n\t}\r\n\r\n\tprivate readonly frame: Frame\r\n}\r\n\r\nexport default Shape","import { v4 as uuid } from 'uuid'\r\nimport Shape from \"../Shape\"\r\n\r\nclass Rectangle extends Shape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Rectangle\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default Rectangle","import { v4 as uuid } from 'uuid'\r\nimport Shape from \"../Shape\"\r\n\r\nclass Triangle extends Shape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Triangle\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default Triangle","import { v4 as uuid } from 'uuid'\r\nimport Shape from \"../Shape\"\r\n\r\nclass Ellipse extends Shape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Ellipse\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default Ellipse","import IItem from \"../Item/IItem\"\r\nimport IShapeFactory from \"./IShapeFactory\"\r\nimport Rectangle from \"../Item/Shape/Rectangle/Rectangle\"\r\nimport Triangle from \"../Item/Shape/Triangle/Triangle\"\r\nimport Ellipse from \"../Item/Shape/Ellipse/Ellipse\"\r\n\r\nclass ShapeFactory implements IShapeFactory\r\n{\r\n\tCreateShape(type: string): IItem\r\n\t{\r\n\t\tif(type === \"Rectangle\")\r\n\t\t{\r\n\t\t\treturn new Rectangle()\r\n\t\t}\r\n\t\tif(type === \"Triangle\")\r\n\t\t{\r\n\t\t\treturn new Triangle()\r\n\t\t}\r\n\t\tif(type === \"Ellipse\")\r\n\t\t{\r\n\t\t\treturn new Ellipse()\r\n\t\t}\r\n\r\n\t\tthrow Error(\"incorrect shape type\")\r\n\t}\r\n}\r\n\r\nexport default ShapeFactory","import IItem from \"../Item/IItem\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\nimport ShapeFactory from \"../ShapeFactory/ShapeFactory\"\r\n\r\nclass AddShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = new ShapeFactory().CreateShape(type)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shapes.pop()\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem\r\n}\r\n\r\nexport default AddShapeCommand","import IItem from \"../Item/IItem\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass DeleteShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.position = this.shapes.findIndex(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tif(this.position > -1)\r\n\t\t{\r\n\t\t\tthis.shape = this.shapes[this.position]\r\n\t\t\tthis.shapes.splice(this.position, 1)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthrow Error(\"incorrect id specified\")\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.shape)\r\n\t\t{\r\n\t\t\tthis.shapes.splice(this.position, 0, this.shape)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly position: number = 0\r\n\tprivate shape: IItem | null = null\r\n}\r\n\r\nexport default DeleteShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Size from \"../utils/types/Size\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass ResizeShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, size: Size, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newSize = size\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldSize = this.shape\r\n\t\t\t? {width: this.shape.GetFrame().width, height: this.shape.GetFrame().height}\r\n\t\t\t: this.oldSize\r\n\t\tthis.shape?.Resize(this.newSize)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shape?.Resize(this.oldSize)\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem | undefined\r\n\tprivate readonly newSize: Size\r\n\tprivate oldSize: Size = {width: 0, height: 0}\r\n}\r\n\r\nexport default ResizeShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Point from \"../utils/types/Point\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass MoveShapeCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, point: Point, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newPoint = point\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldPoint = this.shape\r\n\t\t\t? this.shape.GetFrame().leftTopPoint\r\n\t\t\t: this.oldPoint\r\n\t\tthis.shape?.Move(this.newPoint)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shape?.Move(this.oldPoint)\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem | undefined\r\n\tprivate readonly newPoint: Point\r\n\tprivate oldPoint: Point = {x: 0, y: 0}\r\n}\r\n\r\nexport default MoveShapeCommand","import { v4 as uuid } from \"uuid\"\r\nimport IImage from \"./IImage\"\r\nimport Frame from \"../../utils/types/Frame\"\r\nimport Size from \"../../utils/types/Size\"\r\nimport Point from \"../../utils/types/Point\"\r\n\r\nclass Image implements IImage\r\n{\r\n\tconstructor(path: string)\r\n\t{\r\n\t\tthis.path = path\r\n\t\tthis.id = uuid()\r\n\t\tthis.frame = {\r\n\t\t\tleftTopPoint: {x: 50, y: 50},\r\n\t\t\twidth: 100,\r\n\t\t\theight: 100\r\n\t\t}\r\n\t}\r\n\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetPath(): string\r\n\t{\r\n\t\treturn this.path\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tGetFrame(): Frame\r\n\t{\r\n\t\treturn this.frame\r\n\t}\r\n\r\n\tMove(point: Point): void\r\n\t{\r\n\t\tthis.frame.leftTopPoint = point\r\n\t}\r\n\r\n\tResize(size: Size): void\r\n\t{\r\n\t\tthis.frame.width = size.width\r\n\t\tthis.frame.height = size.height\r\n\t}\r\n\r\n\tprivate readonly id: string\r\n\tprivate readonly frame: Frame\r\n\tprivate readonly type = \"Image\"\r\n\tprivate readonly path: string\r\n}\r\n\r\nexport default Image","import IItem from \"../Item/IItem\"\r\nimport IImage from \"../Item/Image/IImage\"\r\nimport Image from \"../Item/Image/Image\"\r\nimport AbstractCommand from \"./AbstractCommand\"\r\n\r\nclass AddImageCommand extends AbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string, path: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = new Image(path)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tthis.shapes.pop()\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IImage\r\n}\r\n\r\nexport default AddImageCommand","import IItem from \"../Item/IItem\"\r\nimport IEditor from \"./IEditor\"\r\nimport IHistory from \"../History/IHistory\"\r\nimport IObserver from \"../../common/IObserver\"\r\nimport Point from \"../utils/types/Point\"\r\nimport Size from \"../utils/types/Size\"\r\nimport History from \"../History/History\"\r\nimport AddShapeCommand from \"../Commands/AddShapeCommand\"\r\nimport DeleteShapeCommand from \"../Commands/DeleteShapeCommand\"\r\nimport ResizeShapeCommand from \"../Commands/ResizeShapeCommand\"\r\nimport MoveShapeCommand from \"../Commands/MoveShapeCommand\"\r\nimport AddImageCommand from \"../Commands/AddImageCommand\"\r\nimport IObservable from \"../../common/IObservable\"\r\nimport ICommand from \"../Commands/ICommand\"\r\n\r\nclass Editor implements IEditor, IObservable\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.history = new History()\r\n\t}\r\n\r\n\tGetItems(): Array<IItem>\r\n\t{\r\n\t\treturn this.items\r\n\t}\r\n\r\n\tAddShape(type: string): void\r\n\t{\r\n\t\tconst addItemCommand = new AddShapeCommand(this.items, type)\r\n\t\tthis.ExecuteCommand(addItemCommand)\r\n\t}\r\n\r\n\tAddImage(path: string): void\r\n\t{\r\n\t\tconst addImageCommand = new AddImageCommand(this.items, \"Image\", path)\r\n\t\tthis.ExecuteCommand(addImageCommand)\r\n\t}\r\n\r\n\tDeleteItem(id: string): void\r\n\t{\r\n\t\tconst deleteShapeCommand = new DeleteShapeCommand(this.items, id)\r\n\t\tthis.ExecuteCommand(deleteShapeCommand)\r\n\t}\r\n\r\n\tResizeItem(id: string, size: Size): void\r\n\t{\r\n\t\tconst resizeShapeCommand = new ResizeShapeCommand(this.items, size, id)\r\n\t\tthis.ExecuteCommand(resizeShapeCommand)\r\n\t}\r\n\r\n\tMoveItem(id: string, point: Point): void\r\n\t{\r\n\t\tconst moveShapeCommand = new MoveShapeCommand(this.items, point, id)\r\n\t\tthis.ExecuteCommand(moveShapeCommand)\r\n\t}\r\n\r\n\tCanUndo(): boolean\r\n\t{\r\n\t\treturn this.history.CanUndo()\r\n\t}\r\n\r\n\tUndo(): void\r\n\t{\r\n\t\tthis.history.Undo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tCanRedo(): boolean\r\n\t{\r\n\t\treturn this.history.CanRedo()\r\n\t}\r\n\r\n\tRedo(): void\r\n\t{\r\n\t\tthis.history.Redo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tRegisterObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.push(observer)\r\n\t}\r\n\r\n\tRemoveObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.filter((element: IObserver) => element !== observer)\r\n\t}\r\n\r\n\tprivate NotifyObservers(): void\r\n\t{\r\n\t\tthis.observers.forEach(observer => observer())\r\n\t}\r\n\r\n\tprivate ExecuteCommand(command: ICommand): void\r\n\t{\r\n\t\tthis.history.ExecuteCommand(command)\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tprivate items: Array<IItem> = []\r\n\tprivate history: IHistory\r\n\tprivate observers: Array<IObserver> = []\r\n}\r\n\r\nexport default Editor","import IController from \"./IController\"\r\nimport IEditor from \"../model/Editor/IEditor\"\r\nimport IItem from \"../model/Item/IItem\"\r\nimport Point from \"../model/utils/types/Point\"\r\nimport Size from \"../model/utils/types/Size\"\r\n\r\nclass Controller implements IController\r\n{\r\n\tconstructor(model: IEditor)\r\n\t{\r\n\t\tthis.model = model\r\n\t}\r\n\r\n\tpublic GetItems(): Array<IItem>\r\n\t{\r\n\t\treturn this.model.GetItems()\r\n\t}\r\n\r\n\tpublic AddShape(type: string): void\r\n\t{\r\n\t\tthis.model.AddShape(type)\r\n\t}\r\n\r\n\tpublic AddImage(path: string): void\r\n\t{\r\n\t\tthis.model.AddImage(path)\r\n\t}\r\n\r\n\tpublic DeleteItem(id: string): void\r\n\t{\r\n\t\tthis.model.DeleteItem(id)\r\n\t}\r\n\r\n\tpublic ResizeItem(id: string, size: Size): void\r\n\t{\r\n\t\tthis.model.ResizeItem(id, size)\r\n\t}\r\n\r\n\tpublic MoveItem(id: string, point: Point): void\r\n\t{\r\n\t\tthis.model.MoveItem(id, point)\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.model.CanUndo()\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tthis.model.Undo()\r\n\t}\r\n\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.model.CanRedo()\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tthis.model.Redo()\r\n\t}\r\n\r\n\tprivate model: IEditor\r\n}\r\n\r\nexport default Controller","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport IEditor from \"./model/Editor/IEditor\"\r\nimport IController from \"./controller/IController\"\r\nimport View from \"./view/components/View\"\r\nimport Editor from \"./model/Editor/Editor\"\r\nimport Controller from \"./controller/Controller\"\r\nimport IObservable from \"./common/IObservable\";\r\n\r\nconst root = ReactDOM.createRoot(\r\n\tdocument.getElementById('root') as HTMLElement\r\n);\r\n\r\ntype EditorType = IEditor & IObservable\r\n\r\nconst editor: EditorType = new Editor()\r\nconst controller: IController = new Controller(editor)\r\n\r\nfunction render()\r\n{\r\n\troot.render(\r\n\t\t<React.StrictMode>\r\n\t\t\t<View items={editor.GetItems()} controller={controller}/>\r\n\t\t</React.StrictMode>\r\n\t);\r\n}\r\n\r\neditor.RegisterObserver(render)\r\n\r\nrender()"],"sourceRoot":""}