{"version":3,"sources":["view/components/Header/Header.module.css","view/components/Header/Element/Element.module.css","view/components/Header/Button/Button.module.css","view/components/View.module.css","view/components/Canvas/Elements/Frame/Frame.module.css","view/components/Header/Button/Popup/Popup.module.css","view/Settings.ts","view/components/Canvas/Elements/Items/Triangle/Triangle.tsx","view/components/Canvas/Elements/Items/Rectangle/Rectangle.tsx","view/components/Canvas/Elements/Items/Ellipse/Ellipse.tsx","view/components/Canvas/Elements/Items/Image/Image.tsx","model/utils/typeGuards/isImage.ts","view/components/Canvas/ItemFactory/ItemFactory.tsx","view/hooks/useDragAndDrop.tsx","view/hooks/useItemResize.tsx","view/components/Canvas/Elements/Frame/Frame.tsx","view/hooks/useItemDragAndDrop.tsx","view/hooks/useClickOutside.tsx","view/utils/addPropsToChildren.ts","view/components/Canvas/ItemWrapper/ItemWrapper.tsx","view/components/Canvas/Canvas.tsx","view/components/Header/Button/Popup/Popup.tsx","view/components/Header/Button/Button.tsx","view/hooks/useComponentVisible.tsx","view/components/Header/Element/Element.tsx","view/components/Header/Element/ElementImage.tsx","view/components/Header/Header.tsx","view/components/View.tsx","model/History/CHistory.ts","model/Commands/CAbstractCommand.tsx","model/Item/Shape/CShape.ts","model/Item/Shape/Rectangle/CRectangle.ts","model/Item/Shape/Triangle/CTriangle.ts","model/Item/Shape/Ellipse/CEllipse.ts","model/ShapeFactory/CShapeFactory.ts","model/Commands/CAddShapeCommand.ts","model/Commands/CDeleteShapeCommand.ts","model/Commands/CResizeShapeCommand.ts","model/Commands/CMoveShapeCommand.ts","model/Item/Image/CImage.ts","model/Commands/CAddImageCommand.ts","model/Editor/CEditor.ts","controller/CController.ts","index.tsx"],"names":["module","exports","Settings","canvasWidth","canvasHeight","fillColor","outlineColor","Triangle","frame","x","leftTopPoint","y","width","height","points","fill","stroke","Rectangle","Ellipse","cx","cy","rx","ry","Image","path","preserveAspectRatio","xlinkHref","isImage","object","undefined","GetPath","ItemFactory","item","GetType","useDragAndDrop","ref","onDragStart","onDrag","onDragEnd","pagePosition","currentPosition","move","useEffect","element","current","addEventListener","MouseDownListener","removeEventListener","event","pageX","pageY","document","MouseMoveListener","MouseUpListener","position","useItemResize","id","setSize","resizeItem","delta","currentSize","getBoundingClientRect","Frame","selectItem","circleRef","useRef","GetId","fillOpacity","strokeWidth","className","styles","circle","r","useItemDragAndDrop","setPosition","setSelectItem","moveItem","useClickOutside","setClickOutside","handleClickOutside","contains","target","addPropsToChildren","children","props","React","isValidElement","cloneElement","ItemWrapper","GetFrame","useState","size","Canvas","items","deleteItem","KeyUpListener","key","baseProfile","map","Popup","visible","indent","setColor","wrap","style","display","left","Button","text","initialIsVisible","isComponentVisible","setIsComponentVisible","useComponentVisible","color","button","onClick","onMouseMove","onMouseLeave","backgroundColor","Element","imageUrl","action","image","src","alt","ElementImage","inputReference","click","type","hidden","accept","onChange","file","files","reader","FileReader","readAsDataURL","onload","result","value","Header","addTriangle","addRectangle","addEllipse","addImage","canUndo","undo","canRedo","redo","console","log","toUpperCase","history","imageUndo","imageHoverUndo","withOpacity","imageRedo","imageHoverRedo","View","controller","AddShape","AddImage","CanUndo","Undo","CanRedo","Redo","canvasWrap","DeleteItem","ResizeItem","point","MoveItem","CHistory","MAX_DEPTH_OF_HISTORY","this","length","Error","command","pop","push","Execute","UnExecute","AddExecutedCommand","shift","CAbstractCommand","executed","DoExecute","DoUnExecute","CShape","CRectangle","uuid","CTriangle","CEllipse","CShapeFactory","CAddShapeCommand","shapes","shape","CreateShape","IsExecuted","CDeleteShapeCommand","findIndex","splice","CResizeShapeCommand","newSize","oldSize","find","Resize","CMoveShapeCommand","newPoint","oldPoint","Move","CImage","CAddImageCommand","CEditor","observers","addItemCommand","ExecuteCommand","NotifyObservers","deleteShapeCommand","resizeShapeCommand","moveShapeCommand","observer","filter","forEach","CController","model","GetItems","DeleteShape","MoveShape","ResizeShape","root","ReactDOM","createRoot","getElementById","editor","render","StrictMode","RegisterObserver"],"mappings":"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","file":"static/js/main.a9334d1c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Header_wrap__3D2ds\",\"image\":\"Header_image__15xHu\",\"imageUndo\":\"Header_imageUndo__1HnuQ\",\"imageRedo\":\"Header_imageRedo__2hSh7\",\"withOpacity\":\"Header_withOpacity__1NG3b\",\"imageHoverUndo\":\"Header_imageHoverUndo__1zzpq\",\"imageHoverRedo\":\"Header_imageHoverRedo__2YPc1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Element_wrap__1rprF\",\"image\":\"Element_image__2D8Ax\",\"text\":\"Element_text__2tchm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3GztG\",\"text\":\"Button_text__3ZMjl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasWrap\":\"View_canvasWrap__3l6n3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"Frame_circle__gSKLo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Popup_wrap__3kESB\"};","const Settings = {\r\n\tcanvasWidth: 640,\r\n\tcanvasHeight: 480,\r\n\tfillColor: \"gray\",\r\n\toutlineColor: \"#000\"\r\n}\r\n\r\nexport default Settings","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface TriangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Triangle({frame}: TriangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<polygon\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\tpoints={\r\n\t\t\t\t`${x} ${y + height},  \r\n\t\t\t\t ${x + width / 2} ${y}, \r\n\t\t\t\t ${x + width} ${y + height} `\r\n\t\t\t}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Triangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface RectangleProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Rectangle({frame}: RectangleProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<rect\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Rectangle","import Settings from \"../../../../../Settings\"\r\nimport Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface EllipseProps\r\n{\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Ellipse({frame}: EllipseProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<ellipse\r\n\t\t\tcx={x + width / 2}\r\n\t\t\tcy={y + height / 2}\r\n\t\t\trx={width / 2}\r\n\t\t\try={height / 2}\r\n\t\t\tfill={Settings.fillColor}\r\n\t\t\tstroke={Settings.outlineColor}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Ellipse","import Frame from \"../../../../../../model/utils/types/Frame\"\r\n\r\ninterface ImageProps\r\n{\r\n\tpath: string,\r\n\tframe: Frame,\r\n}\r\n\r\nfunction Image({path, frame}: ImageProps)\r\n{\r\n\tconst x = frame.leftTopPoint.x\r\n\tconst y = frame.leftTopPoint.y\r\n\tconst width = frame.width\r\n\tconst height = frame.height\r\n\r\n\treturn (\r\n\t\t<image\r\n\t\t\tpreserveAspectRatio={\"none\"}\r\n\t\t\tx={x}\r\n\t\t\ty={y}\r\n\t\t\twidth={width}\r\n\t\t\theight={height}\r\n\t\t\txlinkHref={path}\r\n\t\t/>\r\n\t)\r\n}\r\n\r\nexport default Image","import IImage from \"../../Item/Image/IImage\"\r\n\r\nfunction isImage(object: any): object is IImage\r\n{\r\n\treturn object.GetPath !== undefined\r\n}\r\n\r\nexport default isImage","import IItem from \"../../../../model/Item/IItem\"\r\nimport Triangle from \"../Elements/Items/Triangle/Triangle\"\r\nimport Rectangle from \"../Elements/Items/Rectangle/Rectangle\"\r\nimport Ellipse from \"../Elements/Items/Ellipse/Ellipse\"\r\nimport Image from \"../Elements/Items/Image/Image\"\r\nimport isImage from \"../../../../model/utils/typeGuards/isImage\"\r\nimport Frame from \"../../../../model/utils/types/Frame\"\r\n\r\ninterface ItemFactoryProps\r\n{\r\n\titem: IItem,\r\n\tframe: Frame\r\n}\r\n\r\nfunction ItemFactory({item, frame}: ItemFactoryProps)\r\n{\r\n\tswitch(item.GetType())\r\n\t{\r\n\tcase \"Triangle\":\r\n\t\treturn <Triangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Rectangle\":\r\n\t\treturn <Rectangle\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Ellipse\":\r\n\t\treturn <Ellipse\r\n\t\t\tframe={frame}\r\n\t\t/>\r\n\tcase \"Image\":\r\n\t\tif(isImage(item))\r\n\t\t{\r\n\t\t\treturn <Image\r\n\t\t\t\tpath={item.GetPath()}\r\n\t\t\t\tframe={frame}\r\n\t\t\t/>\r\n\t\t}\r\n\t}\r\n\treturn null\r\n}\r\n\r\nexport default ItemFactory","import { RefObject, useEffect } from \"react\"\r\n\r\ntype DragHandler = (position: { x: number, y: number }) => void\r\n\r\nfunction useDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tonDragStart?: DragHandler,\r\n\tonDrag?: DragHandler,\r\n\tonDragEnd?: DragHandler,\r\n)\r\n{\r\n\tlet move: boolean = false\r\n\tlet pagePosition: { x: number, y: number }\r\n\tlet currentPosition: { x: number, y: number }\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = ref.current\r\n\t\telement?.addEventListener(\"mousedown\", MouseDownListener)\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"mousedown\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tconst MouseDownListener = (event: Event) =>\r\n\t{\r\n\t\tmove = false\r\n\r\n\t\tpagePosition = {\r\n\t\t\tx: (event as MouseEvent).pageX,\r\n\t\t\ty: (event as MouseEvent).pageY\r\n\t\t}\r\n\t\tonDragStart?.(pagePosition)\r\n\r\n\t\tdocument.addEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.addEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n\r\n\tconst MouseMoveListener = (event: MouseEvent) =>\r\n\t{\r\n\t\tmove = true\r\n\r\n\t\tconst position = {x: event.pageX - pagePosition.x, y: event.pageY - pagePosition.y}\r\n\t\tonDrag?.(position)\r\n\t\tcurrentPosition = position\r\n\t}\r\n\r\n\tconst MouseUpListener = () =>\r\n\t{\r\n\t\tmove && onDragEnd?.(currentPosition)\r\n\r\n\t\tdocument.removeEventListener(\"mousemove\", MouseMoveListener)\r\n\t\tdocument.removeEventListener(\"mouseup\", MouseUpListener)\r\n\t}\r\n}\r\n\r\nexport default useDragAndDrop","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\nimport Size from \"../../model/utils/types/Size\"\r\nimport Frame from \"../../model/utils/types/Frame\"\r\n\r\nfunction useItemResize<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tframe: Frame,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n)\r\n{\r\n\tconst onDragStart = () => {}\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tlet currentSize = {width: frame.width + delta.x, height: frame.height + delta.y}\r\n\r\n\t\tif(ref.current?.getBoundingClientRect())\r\n\t\t{\r\n\t\t\tdelta.x = frame.width + delta.x < 1\r\n\t\t\t\t? 1\r\n\t\t\t\t: frame.leftTopPoint.x + frame.width + delta.x > Settings.canvasWidth\r\n\t\t\t\t\t? Settings.canvasWidth - frame.leftTopPoint.x\r\n\t\t\t\t\t: currentSize.width\r\n\t\t\tdelta.y = frame.height + delta.y < 1\r\n\t\t\t\t? 1\r\n\t\t\t\t: frame.leftTopPoint.y + frame.height + delta.y > Settings.canvasHeight\r\n\t\t\t\t\t? Settings.canvasHeight - frame.leftTopPoint.y\r\n\t\t\t\t\t: currentSize.height\r\n\t\t}\r\n\r\n\t\tsetSize({width: delta.x, height: delta.y})\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tresizeItem(id, {width: currentPosition.x, height: currentPosition.y})\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemResize","import { useRef } from \"react\";\r\nimport styles from \"./Frame.module.css\"\r\nimport IItem from \"../../../../../model/Item/IItem\";\r\nimport FrameType from \"../../../../../model/utils/types/Frame\"\r\nimport Size from \"../../../../../model/utils/types/Size\";\r\nimport useItemResize from \"../../../../hooks/useItemResize\";\r\n\r\ninterface FrameProps\r\n{\r\n\tselectItem: IItem,\r\n\tsetSize: (size: Size) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tframe: FrameType\r\n}\r\n\r\nfunction Frame({selectItem, setSize, resizeItem, frame}: FrameProps)\r\n{\r\n\tconst circleRef = useRef<SVGCircleElement>(null)\r\n\r\n\tuseItemResize<SVGCircleElement>(circleRef, selectItem.GetId(), frame, setSize, resizeItem)\r\n\r\n\treturn (\r\n\t\t<g>\r\n\t\t\t<rect\r\n\t\t\t\tx={frame.leftTopPoint.x}\r\n\t\t\t\ty={frame.leftTopPoint.y}\r\n\t\t\t\twidth={frame.width}\r\n\t\t\t\theight={frame.height}\r\n\t\t\t\tstroke={\"#ff0000\"}\r\n\t\t\t\tfill=\"#000\"\r\n\t\t\t\tfillOpacity=\"0\"\r\n\t\t\t\tstrokeWidth={1}\r\n\t\t\t/>\r\n\t\t\t<circle\r\n\t\t\t\tclassName={styles.circle}\r\n\t\t\t\tref={circleRef}\r\n\t\t\t\tcx={frame.leftTopPoint.x + frame.width}\r\n\t\t\t\tcy={frame.leftTopPoint.y + frame.height}\r\n\t\t\t\tr={4}\r\n\t\t\t\tfill=\"#000\"\r\n\t\t\t/>\r\n\t\t</g>\r\n\t)\r\n}\r\n\r\nexport default Frame","import { RefObject } from \"react\"\r\nimport useDragAndDrop from \"./useDragAndDrop\"\r\nimport Settings from \"../Settings\"\r\n\r\nfunction useItemDragAndDrop<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tid: string,\r\n\tposition: { x: number, y: number },\r\n\tsetPosition: (position: { x: number, y: number }) => void,\r\n\tsetSelectItem: () => void,\r\n\tmoveItem: (id: string, position: { x: number, y: number }) => void\r\n)\r\n{\r\n\tconst onDragStart = setSelectItem\r\n\r\n\tconst onDrag = (delta: { x: number, y: number }) => {\r\n\t\tif(ref.current?.getBoundingClientRect())\r\n\t\t{\r\n\t\t\tdelta.x = position.x + delta.x < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.x + delta.x > Settings.canvasWidth - ref.current?.getBoundingClientRect().width\r\n\t\t\t\t\t? Settings.canvasWidth - ref.current?.getBoundingClientRect().width\r\n\t\t\t\t\t: position.x + delta.x\r\n\t\t\tdelta.y = position.y + delta.y < 0\r\n\t\t\t\t? 0\r\n\t\t\t\t: position.y + delta.y > Settings.canvasHeight - ref.current?.getBoundingClientRect().height\r\n\t\t\t\t\t? Settings.canvasHeight - ref.current?.getBoundingClientRect().height\r\n\t\t\t\t\t: position.y + delta.y\r\n\t\t}\r\n\t\tsetPosition(delta)\r\n\t}\r\n\r\n\tconst onDragEnd = (currentPosition: { x: number, y: number }) => {\r\n\t\tmoveItem(id, currentPosition)\r\n\t}\r\n\r\n\tuseDragAndDrop<T>(ref, onDragStart, onDrag, onDragEnd)\r\n}\r\n\r\nexport default useItemDragAndDrop","import { useEffect, RefObject } from 'react'\r\n\r\nfunction useClickOutside<T extends Element>(\r\n\tref: RefObject<T>,\r\n\tsetClickOutside: () => void\r\n)\r\n{\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t}\r\n\t})\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetClickOutside()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default useClickOutside","import React from \"react\"\r\n\r\nfunction addPropsToChildren<T extends object>(children: JSX.Element, props: T)\r\n{\r\n\tif(React.isValidElement(children))\r\n\t{\r\n\t\treturn React.cloneElement(children, props)\r\n\t}\r\n\treturn children\r\n}\r\n\r\nexport default addPropsToChildren","import { useEffect, useRef, useState } from \"react\"\r\nimport Size from \"../../../../model/utils/types/Size\"\r\nimport Point from \"../../../../model/utils/types/Point\"\r\nimport IItem from \"../../../../model/Item/IItem\"\r\nimport Frame from \"../../../../model/utils/types/Frame\"\r\nimport FrameJSX  from \"../Elements/Frame/Frame\"\r\nimport useItemDragAndDrop from \"../../../hooks/useItemDragAndDrop\"\r\nimport useClickOutside from \"../../../hooks/useClickOutside\"\r\nimport addPropsToChildren from \"../../../utils/addPropsToChildren\"\r\n\r\ninterface ItemWrapperProps\r\n{\r\n\titem: IItem,\r\n\tselectItem: IItem | null,\r\n\tsetSelectItem: (item: IItem | null) => void,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n\tchildren: JSX.Element\r\n}\r\n\r\nfunction ItemWrapper({item, selectItem, setSelectItem, resizeItem, moveItem, children}: ItemWrapperProps)\r\n{\r\n\tconst ref = useRef<SVGGElement>(null)\r\n\tconst x = item.GetFrame().leftTopPoint.x\r\n\tconst y = item.GetFrame().leftTopPoint.y\r\n\tconst width = item.GetFrame().width\r\n\tconst height = item.GetFrame().height\r\n\r\n\tconst [position, setPosition] = useState({x, y})\r\n\tconst [size, setSize] = useState({width, height})\r\n\r\n\tconst MouseDownListener = () => {\r\n\t\tsetSelectItem(item)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tconst element = ref.current\r\n\t\telement?.addEventListener(\"click\", MouseDownListener)\r\n\r\n\t\treturn () => {\r\n\t\t\telement?.removeEventListener(\"click\", MouseDownListener)\r\n\t\t}\r\n\t})\r\n\r\n\tuseEffect(() => {\r\n\t\tsetPosition({x, y})\r\n\t}, [x, y])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSize({width, height: height})\r\n\t}, [width, height])\r\n\r\n\tuseClickOutside(ref, () => {setSelectItem(null)})\r\n\tuseItemDragAndDrop<SVGGElement>(ref, item.GetId(), position, setPosition, () => {setSelectItem(item)}, moveItem)\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<g ref={ref}>\r\n\t\t\t\t{addPropsToChildren<{ frame: Frame }>(children, {\r\n\t\t\t\t\tframe: {\r\n\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t\t{(selectItem?.GetId() === item.GetId()) &&\r\n                    <FrameJSX\r\n                        selectItem={selectItem}\r\n                        setSize={setSize}\r\n                        resizeItem={resizeItem}\r\n                        frame={{\r\n\t\t\t\t\t\t\tleftTopPoint: position,\r\n\t\t\t\t\t\t\twidth: size.width,\r\n\t\t\t\t\t\t\theight: size.height\r\n\t\t\t\t\t\t}}\r\n                    />}\r\n\t\t\t</g>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ItemWrapper","import { useEffect, useState } from \"react\"\r\nimport IItem from \"../../../model/Item/IItem\"\r\nimport Size from \"../../../model/utils/types/Size\"\r\nimport Point from \"../../../model/utils/types/Point\"\r\nimport ItemFactory from \"./ItemFactory/ItemFactory\"\r\nimport Settings from \"../../Settings\"\r\nimport ItemWrapper from \"./ItemWrapper/ItemWrapper\";\r\n\r\ninterface CanvasProps\r\n{\r\n\titems: Array<IItem>,\r\n\tresizeItem: (id: string, size: Size) => void,\r\n\tmoveItem: (id: string, point: Point) => void,\r\n\tdeleteItem: (id: string) => void,\r\n}\r\n\r\nfunction Canvas(\r\n\t{\r\n\t\titems,\r\n\t\tresizeItem,\r\n\t\tmoveItem,\r\n\t\tdeleteItem\r\n\t}: CanvasProps)\r\n{\r\n\tconst [selectItem, setSelectItem] = useState<IItem | null>(null)\r\n\r\n\tconst KeyUpListener = (event: KeyboardEvent) =>\r\n\t{\r\n\t\tif(event.key === \"Delete\")\r\n\t\t{\r\n\t\t\tselectItem && deleteItem(selectItem.GetId())\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"keyup\", KeyUpListener)\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keyup\", KeyUpListener)\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<svg baseProfile=\"full\" width={Settings.canvasWidth} height={Settings.canvasHeight}>\r\n\t\t\t<rect width=\"100%\" height=\"100%\" fill=\"white\"/>\r\n\t\t\t{items.map((item: IItem) => {\r\n                return <ItemWrapper\r\n\t                key={item.GetId()}\r\n\t                item={item}\r\n\t                selectItem={selectItem}\r\n\t                setSelectItem={setSelectItem}\r\n\t                resizeItem={resizeItem}\r\n\t                moveItem={moveItem}\r\n                >\r\n                    <ItemFactory\r\n                        item={item}\r\n                        frame={item.GetFrame()}\r\n                    />\r\n                </ItemWrapper>\r\n\r\n\t\t\t})}\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\nexport default Canvas","import { useEffect } from \"react\"\r\nimport styles from \"./Popup.module.css\"\r\n\r\ninterface PopupProps\r\n{\r\n\tvisible: boolean,\r\n\tindent: number,\r\n\tsetColor: (color: string) => void,\r\n\tchildren: Array<JSX.Element>,\r\n}\r\n\r\nfunction Popup({visible, indent, setColor, children}: PopupProps)\r\n{\r\n\tuseEffect(() => {\r\n\t\tif(visible)\r\n\t\t{\r\n\t\t\tsetColor(\"#7e8a97\")\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsetColor(\"#cbaf87\")\r\n\t\t}\r\n\t}, [visible, setColor])\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} style={{display: visible ? \"block\" : \"none\", left: `${indent}px`}}>\r\n\t\t\t{\r\n\t\t\t\tchildren.map((element) => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Popup","import { useState } from \"react\"\r\nimport styles from \"./Button.module.css\"\r\nimport Popup from \"./Popup/Popup\"\r\nimport useComponentVisible from \"../../../hooks/useComponentVisible\"\r\n\r\ninterface ButtonProps\r\n{\r\n\ttext: string,\r\n\tindent: number,\r\n\tchildren: Array<JSX.Element>\r\n}\r\n\r\nfunction Button({text, indent, children}: ButtonProps)\r\n{\r\n\tconst {ref, isComponentVisible, setIsComponentVisible} = useComponentVisible<HTMLDivElement>(false)\r\n\tconst [color, setColor] = useState(\"#cbaf87\")\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={ref}\r\n\t\t\tclassName={styles.button}\r\n\t\t\tonClick={() => {\r\n\t\t\t\tsetIsComponentVisible(!isComponentVisible)\r\n\t\t\t}}\r\n\t\t\tonMouseMove={() => {\r\n\t\t\t\tsetColor(\"#7e8a97\")\r\n\t\t\t}}\r\n\t\t\tonMouseLeave={() => {\r\n\t\t\t\tif(!isComponentVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tsetColor(\"#cbaf87\")\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tstyle={{backgroundColor: color}}\r\n\t\t>\r\n\t\t\t<span className={styles.text}>{text}</span>\r\n\t\t\t<Popup visible={isComponentVisible} indent={indent} setColor={setColor}>\r\n\t\t\t\t{children.map(element => {\r\n\t\t\t\t\treturn element\r\n\t\t\t\t})}\r\n\t\t\t</Popup>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Button","import { useState, useEffect, useRef, Ref } from 'react'\r\n\r\nexport default function useComponentVisible<T extends Element>(initialIsVisible: boolean)\r\n{\r\n\tconst [isComponentVisible, setIsComponentVisible] = useState<boolean>(initialIsVisible)\r\n\tconst ref: Ref<T> | undefined = useRef(null)\r\n\r\n\tconst handleClickOutside = (event: MouseEvent) =>\r\n\t{\r\n\t\tif(ref.current && !ref.current.contains(event.target as Node))\r\n\t\t{\r\n\t\t\tsetIsComponentVisible(false)\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener('click', handleClickOutside, true)\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true)\r\n\t\t};\r\n\t});\r\n\r\n\treturn {ref, isComponentVisible, setIsComponentVisible}\r\n}","import styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction Element({imageUrl, text, action}: ElementProps)\r\n{\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={() => {action()}}>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Element","import { useRef } from \"react\"\r\nimport styles from \"./Element.module.css\"\r\n\r\ninterface ElementProps\r\n{\r\n\timageUrl: string,\r\n\ttext: string,\r\n\taction: (...args: any) => void\r\n}\r\n\r\nfunction ElementImage({imageUrl, text, action}: ElementProps)\r\n{\r\n\tconst inputReference = useRef<HTMLInputElement>(null)\r\n\r\n\tconst fileUploadAction = () => {\r\n\t\tinputReference.current && inputReference.current.click()\r\n\t}\r\n\r\n\tconst fileUploadInputChange = (event: any) => {\r\n\t\tlet file = event.target.files[0]\r\n\t\tlet reader = new FileReader()\r\n\t\treader.readAsDataURL(file)\r\n\r\n\t\treader.onload = () => {\r\n\t\t\taction(reader.result)\r\n\t\t}\r\n\r\n\t\tevent.target.value = null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap} onClick={fileUploadAction}>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\thidden\r\n\t\t\t\taccept=\"image/png, image/gif, image/jpeg\"\r\n\t\t\t\tref={inputReference}\r\n\t\t\t\tonChange={fileUploadInputChange}\r\n\t\t\t/>\r\n\t\t\t<img className={styles.image} src={imageUrl} alt={\"\"}/>\r\n\t\t\t<div className={styles.text}>\r\n\t\t\t\t{text}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ElementImage","import styles from \"./Header.module.css\"\r\nimport Button from \"./Button/Button\"\r\nimport Element from \"./Element/Element\"\r\nimport ElementImage from \"./Element/ElementImage\"\r\nimport { useEffect } from \"react\";\r\n\r\ninterface HeaderProps\r\n{\r\n\taddTriangle: () => void,\r\n\taddRectangle: () => void,\r\n\taddEllipse: () => void,\r\n\taddImage: (path: string) => void,\r\n\tcanUndo: () => boolean,\r\n\tundo: () => void,\r\n\tcanRedo: () => boolean,\r\n\tredo: () => void,\r\n}\r\n\r\nfunction Header({addTriangle, addRectangle, addEllipse, addImage, canUndo, undo, canRedo, redo}: HeaderProps)\r\n{\r\n\tconst KeyUpListener = (event: KeyboardEvent) =>\r\n\t{\r\n\t\tconsole.log(event.key)\r\n\t\tif(event.key.toUpperCase() === \"R\")\r\n\t\t{\r\n\t\t\taddRectangle()\r\n\t\t}\r\n\t\tif(event.key.toUpperCase() === \"E\" || event.key.toUpperCase() === \"C\")\r\n\t\t{\r\n\t\t\taddEllipse()\r\n\t\t}\r\n\t\tif(event.key.toUpperCase() === \"T\")\r\n\t\t{\r\n\t\t\taddTriangle()\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"keyup\", KeyUpListener)\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.removeEventListener(\"keyup\", KeyUpListener)\r\n\t\t}\r\n\t})\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrap}>\r\n\t\t\t<Button text={\"Insert\"} indent={15}>\r\n\t\t\t\t<Element imageUrl={\"images/triangle.png\"} text={\"Triangle\"} action={addTriangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/rectangle.png\"} text={\"Rectangle\"} action={addRectangle}/>\r\n\t\t\t\t<Element imageUrl={\"images/ellipse.png\"} text={\"Ellipse\"} action={addEllipse}/>\r\n\t\t\t\t<ElementImage imageUrl={\"images/image.png\"} text={\"Image\"} action={addImage}/>\r\n\t\t\t</Button>\r\n\t\t\t<div className={styles.history}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanUndo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageUndo + \" \" + styles.imageHoverUndo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageUndo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/undo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcanUndo() && undo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tcanRedo()\r\n\t\t\t\t\t\t\t? styles.image + \" \" + styles.imageRedo + \" \" + styles.imageHoverRedo\r\n\t\t\t\t\t\t\t: styles.image + \" \" + styles.imageRedo + \" \" + styles.withOpacity\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsrc=\"images/redo.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tcanRedo() && redo()\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Header","import styles from \"./View.module.css\"\r\nimport Canvas from \"./Canvas/Canvas\"\r\nimport Header from \"./Header/Header\"\r\nimport IController from \"../../controller/IController\"\r\nimport IItem from \"../../model/Item/IItem\"\r\nimport Size from \"../../model/utils/types/Size\"\r\nimport Point from \"../../model/utils/types/Point\"\r\n\r\ninterface ViewProps\r\n{\r\n\tcontroller: IController,\r\n\titems: Array<IItem>\r\n}\r\n\r\nfunction View({controller, items}: ViewProps)\r\n{\r\n\tconst addTriangle = () => {\r\n\t\tcontroller.AddShape(\"Triangle\")\r\n\t}\r\n\r\n\tconst addRectangle = () => {\r\n\t\tcontroller.AddShape(\"Rectangle\")\r\n\t}\r\n\r\n\tconst addEllipse = () => {\r\n\t\tcontroller.AddShape(\"Ellipse\")\r\n\t}\r\n\r\n\tconst addImage = (object: string) => {\r\n\t\tcontroller.AddImage(object)\r\n\t}\r\n\r\n\tconst deleteItem = (id: string) => {\r\n\t\tcontroller.DeleteItem(id)\r\n\t}\r\n\r\n\tconst resizeItem = (id: string, size: Size) => {\r\n\t\tcontroller.ResizeItem(id, size)\r\n\t}\r\n\r\n\tconst moveItem = (id: string, point: Point) => {\r\n\t\tcontroller.MoveItem(id, point)\r\n\t}\r\n\r\n\tconst canUndo = (): boolean => {\r\n\t\treturn controller.CanUndo()\r\n\t}\r\n\r\n\tconst undo = () => {\r\n\t\tcontroller.Undo()\r\n\t}\r\n\r\n\tconst canRedo = (): boolean => {\r\n\t\treturn controller.CanRedo()\r\n\t}\r\n\r\n\tconst redo = () => {\r\n\t\tcontroller.Redo()\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Header\r\n\t\t\t\taddTriangle={addTriangle}\r\n\t\t\t\taddRectangle={addRectangle}\r\n\t\t\t\taddEllipse={addEllipse}\r\n\t\t\t\taddImage={addImage}\r\n\t\t\t\tcanUndo={canUndo}\r\n\t\t\t\tundo={undo}\r\n\t\t\t\tcanRedo={canRedo}\r\n\t\t\t\tredo={redo}\r\n\t\t\t/>\r\n\t\t\t<div className={styles.canvasWrap}>\r\n\t\t\t\t<Canvas\r\n\t\t\t\t\titems={items}\r\n\t\t\t\t\tdeleteItem={deleteItem}\r\n\t\t\t\t\tresizeItem={resizeItem}\r\n\t\t\t\t\tmoveItem={moveItem}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default View","import IHistory from \"./IHistory\"\r\nimport ICommand from \"../Commands/ICommand\"\r\n\r\nclass CHistory implements IHistory\r\n{\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.redo.length > 0\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.undo.length > 0\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tif(this.CanRedo())\r\n\t\t{\r\n\t\t\tconst command = this.redo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.undo.push(command)\r\n\t\t\t\tcommand.Execute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"CAN'T REDO\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tif(this.CanUndo())\r\n\t\t{\r\n\t\t\tconst command = this.undo.pop()\r\n\t\t\tif(command !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.redo.push(command)\r\n\t\t\t\tcommand.UnExecute()\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthrow Error(\"CAN'T UNDO\")\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ExecuteCommand(command: ICommand): void\r\n\t{\r\n\t\tcommand.Execute()\r\n\t\tthis.AddExecutedCommand(command)\r\n\t}\r\n\r\n\tprivate AddExecutedCommand(command: ICommand): void\r\n\t{\r\n\t\tthis.redo = []\r\n\t\tif(this.undo.length >= this.MAX_DEPTH_OF_HISTORY)\r\n\t\t{\r\n\t\t\tthis.undo.shift()\r\n\t\t}\r\n\r\n\t\tthis.undo.push(command)\r\n\t}\r\n\r\n\tprivate readonly MAX_DEPTH_OF_HISTORY: number = 20\r\n\tprivate undo: Array<ICommand> = []\r\n\tprivate redo: Array<ICommand> = []\r\n}\r\n\r\nexport default CHistory","import ICommand from \"./ICommand\"\r\n\r\nabstract class CAbstractCommand implements ICommand\r\n{\r\n\tpublic Execute(): void\r\n\t{\r\n\t\tthis.DoExecute()\r\n\t\tthis.executed = true\r\n\t}\r\n\r\n\tpublic UnExecute(): void\r\n\t{\r\n\t\tthis.DoUnExecute()\r\n\t\tthis.executed = false\r\n\t}\r\n\r\n\t// TODO: поравить говно с проверкой\r\n\tpublic IsExecuted(): boolean\r\n\t{\r\n\t\treturn this.executed\r\n\t}\r\n\r\n\tprotected abstract DoExecute(): void;\r\n\r\n\tprotected abstract DoUnExecute(): void\r\n\r\n\tprivate executed = false\r\n}\r\n\r\nexport default CAbstractCommand","import IItem from \"../IItem\"\r\nimport Frame from \"../../utils/types/Frame\"\r\nimport Point from \"../../utils/types/Point\"\r\nimport Size from \"../../utils/types/Size\"\r\n\r\nabstract class CShape implements IItem\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.frame = {\r\n\t\t\tleftTopPoint: {x: 50, y: 50},\r\n\t\t\twidth: 200,\r\n\t\t\theight: 100\r\n\t\t}\r\n\t}\r\n\r\n\tabstract GetType(): string\r\n\r\n\tabstract GetId(): string\r\n\r\n\tGetFrame(): Frame\r\n\t{\r\n\t\treturn this.frame\r\n\t}\r\n\r\n\tMove(point: Point): void\r\n\t{\r\n\t\tthis.frame.leftTopPoint = point\r\n\t}\r\n\r\n\tResize(size: Size): void\r\n\t{\r\n\t\tthis.frame.width = size.width\r\n\t\tthis.frame.height = size.height\r\n\t}\r\n\r\n\tprivate frame: Frame\r\n}\r\n\r\nexport default CShape","import { v4 as uuid } from 'uuid'\r\nimport CShape from \"../CShape\"\r\n\r\nclass CRectangle extends CShape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Rectangle\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default CRectangle","import { v4 as uuid } from 'uuid'\r\nimport CShape from \"../CShape\"\r\n\r\nclass CTriangle extends CShape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Triangle\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default CTriangle","import { v4 as uuid } from 'uuid'\r\nimport CShape from \"../CShape\"\r\n\r\nclass CEllipse extends CShape\r\n{\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tprivate readonly type = \"Ellipse\"\r\n\tprivate readonly id = uuid()\r\n}\r\n\r\nexport default CEllipse","import IItem from \"../Item/IItem\"\r\nimport IShapeFactory from \"./IShapeFactory\"\r\nimport CRectangle from \"../Item/Shape/Rectangle/CRectangle\"\r\nimport CTriangle from \"../Item/Shape/Triangle/CTriangle\"\r\nimport CEllipse from \"../Item/Shape/Ellipse/CEllipse\"\r\n\r\nclass CShapeFactory implements IShapeFactory\r\n{\r\n\tCreateShape(type: string): IItem\r\n\t{\r\n\t\tif(type === \"Rectangle\")\r\n\t\t{\r\n\t\t\treturn new CRectangle()\r\n\t\t}\r\n\t\tif(type === \"Triangle\")\r\n\t\t{\r\n\t\t\treturn new CTriangle()\r\n\t\t}\r\n\t\tif(type === \"Ellipse\")\r\n\t\t{\r\n\t\t\treturn new CEllipse()\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"Error shape type\")\r\n\t}\r\n}\r\n\r\nexport default CShapeFactory","import IItem from \"../Item/IItem\"\r\nimport CAbstractCommand from \"./CAbstractCommand\"\r\nimport CShapeFactory from \"../ShapeFactory/CShapeFactory\"\r\n\r\nclass CAddShapeCommand extends CAbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = new CShapeFactory().CreateShape(type)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.shapes.pop()\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"???\")\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem\r\n}\r\n\r\nexport default CAddShapeCommand","import IItem from \"../Item/IItem\"\r\nimport CAbstractCommand from \"./CAbstractCommand\"\r\n\r\nclass CDeleteShapeCommand extends CAbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.position = this.shapes.findIndex(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tif(this.position > -1)\r\n\t\t{\r\n\t\t\tthis.shape = this.shapes[this.position]\r\n\t\t\tthis.shapes.splice(this.position, 1)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"incorrect id\")\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.IsExecuted() && this.shape)\r\n\t\t{\r\n\t\t\tthis.shapes.splice(this.position, 0, this.shape)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"???\")\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly position: number = 0\r\n\tprivate shape: IItem | null = null\r\n}\r\n\r\nexport default CDeleteShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Size from \"../utils/types/Size\"\r\nimport CAbstractCommand from \"./CAbstractCommand\"\r\n\r\nclass CResizeShapeCommand extends CAbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, size: Size, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newSize = size\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldSize = this.shape\r\n\t\t\t? {width: this.shape.GetFrame().width, height: this.shape.GetFrame().height}\r\n\t\t\t: this.oldSize\r\n\t\tthis.shape?.Resize(this.newSize)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.shape?.Resize(this.oldSize)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"???\")\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem | undefined\r\n\tprivate readonly newSize: Size\r\n\tprivate oldSize: Size = {width: 0, height: 0}\r\n}\r\n\r\nexport default CResizeShapeCommand","import IItem from \"../Item/IItem\"\r\nimport Point from \"../utils/types/Point\"\r\nimport CAbstractCommand from \"./CAbstractCommand\"\r\n\r\nclass CMoveShapeCommand extends CAbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, point: Point, id: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.newPoint = point\r\n\t\tthis.shape = this.shapes.find(shape => shape.GetId() === id)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.oldPoint = this.shape\r\n\t\t\t? this.shape.GetFrame().leftTopPoint\r\n\t\t\t: this.oldPoint\r\n\t\tthis.shape?.Move(this.newPoint)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.shape?.Move(this.oldPoint)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"???\")\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IItem | undefined\r\n\tprivate readonly newPoint: Point\r\n\tprivate oldPoint: Point = {x: 0, y: 0}\r\n}\r\n\r\nexport default CMoveShapeCommand","import { v4 as uuid } from \"uuid\"\r\nimport IImage from \"./IImage\"\r\nimport Frame from \"../../utils/types/Frame\"\r\nimport Size from \"../../utils/types/Size\"\r\nimport Point from \"../../utils/types/Point\"\r\n\r\nclass CImage implements IImage\r\n{\r\n\tconstructor(path: string)\r\n\t{\r\n\t\tthis.path = path\r\n\t\tthis.id = uuid()\r\n\t\tthis.frame = {\r\n\t\t\tleftTopPoint: {x: 50, y: 50},\r\n\t\t\twidth: 100,\r\n\t\t\theight: 100\r\n\t\t}\r\n\t}\r\n\r\n\tGetType(): string\r\n\t{\r\n\t\treturn this.type\r\n\t}\r\n\r\n\tGetPath(): string\r\n\t{\r\n\t\treturn this.path\r\n\t}\r\n\r\n\tGetId(): string\r\n\t{\r\n\t\treturn this.id\r\n\t}\r\n\r\n\tGetFrame(): Frame\r\n\t{\r\n\t\treturn this.frame\r\n\t}\r\n\r\n\tMove(point: Point): void\r\n\t{\r\n\t\tthis.frame.leftTopPoint = point\r\n\t}\r\n\r\n\tResize(size: Size): void\r\n\t{\r\n\t\tthis.frame.width = size.width\r\n\t\tthis.frame.height = size.height\r\n\t}\r\n\r\n\tprivate readonly id: string\r\n\tprivate frame: Frame\r\n\tprivate readonly type = \"Image\"\r\n\tprivate readonly path: string\r\n}\r\n\r\nexport default CImage","import IItem from \"../Item/IItem\"\r\nimport IImage from \"../Item/Image/IImage\"\r\nimport CImage from \"../Item/Image/CImage\"\r\nimport CAbstractCommand from \"./CAbstractCommand\"\r\n\r\nclass CAddImageCommand extends CAbstractCommand\r\n{\r\n\tconstructor(shapes: Array<IItem>, type: string, path: string)\r\n\t{\r\n\t\tsuper()\r\n\t\tthis.shapes = shapes\r\n\t\tthis.shape = new CImage(path)\r\n\t}\r\n\r\n\tprotected DoExecute(): void\r\n\t{\r\n\t\tthis.shapes.push(this.shape)\r\n\t}\r\n\r\n\tprotected DoUnExecute(): void\r\n\t{\r\n\t\tif(this.IsExecuted())\r\n\t\t{\r\n\t\t\tthis.shapes.pop()\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// TODO: поменять ошибку\r\n\t\tthrow Error(\"???\")\r\n\t}\r\n\r\n\tprivate shapes: Array<IItem>\r\n\tprivate readonly shape: IImage\r\n}\r\n\r\nexport default CAddImageCommand","import IItem from \"../Item/IItem\"\r\nimport IEditor from \"./IEditor\"\r\nimport IHistory from \"../History/IHistory\"\r\nimport IObserver from \"./IObserver\"\r\nimport Point from \"../utils/types/Point\"\r\nimport Size from \"../utils/types/Size\"\r\nimport CHistory from \"../History/CHistory\"\r\nimport CAddShapeCommand from \"../Commands/CAddShapeCommand\"\r\nimport CDeleteShapeCommand from \"../Commands/CDeleteShapeCommand\"\r\nimport CResizeShapeCommand from \"../Commands/CResizeShapeCommand\"\r\nimport CMoveShapeCommand from \"../Commands/CMoveShapeCommand\"\r\nimport CAddImageCommand from \"../Commands/CAddImageCommand\"\r\n\r\nclass CEditor implements IEditor\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.history = new CHistory()\r\n\t}\r\n\r\n\tGetItems(): Array<IItem>\r\n\t{\r\n\t\treturn this.items\r\n\t}\r\n\r\n\t// TODO: убрать дублирование\r\n\r\n\tAddShape(type: string, path: string): void\r\n\tAddShape(type: string): void\r\n\tAddShape(type: string, path?: string): void\r\n\t{\r\n\t\tconst addItemCommand = path !== undefined\r\n\t\t\t? new CAddImageCommand(this.items, type, path)\r\n\t\t\t: new CAddShapeCommand(this.items, type)\r\n\t\tthis.history.ExecuteCommand(addItemCommand)\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tDeleteShape(id: string): void\r\n\t{\r\n\t\tconst deleteShapeCommand = new CDeleteShapeCommand(this.items, id)\r\n\t\tthis.history.ExecuteCommand(deleteShapeCommand)\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tResizeShape(id: string, size: Size): void\r\n\t{\r\n\t\tconst resizeShapeCommand = new CResizeShapeCommand(this.items, size, id)\r\n\t\tthis.history.ExecuteCommand(resizeShapeCommand)\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tMoveShape(id: string, point: Point): void\r\n\t{\r\n\t\tconst moveShapeCommand = new CMoveShapeCommand(this.items, point, id)\r\n\t\tthis.history.ExecuteCommand(moveShapeCommand)\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tCanUndo(): boolean\r\n\t{\r\n\t\treturn this.history.CanUndo()\r\n\t}\r\n\r\n\tUndo(): void\r\n\t{\r\n\t\tthis.history.Undo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tCanRedo(): boolean\r\n\t{\r\n\t\treturn this.history.CanRedo()\r\n\t}\r\n\r\n\tRedo(): void\r\n\t{\r\n\t\tthis.history.Redo()\r\n\r\n\t\tthis.NotifyObservers()\r\n\t}\r\n\r\n\tRegisterObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.push(observer)\r\n\t}\r\n\r\n\tRemoveObserver(observer: IObserver): void\r\n\t{\r\n\t\tthis.observers.filter((element: IObserver) => element !== observer)\r\n\t}\r\n\r\n\tprivate NotifyObservers(): void\r\n\t{\r\n\t\tthis.observers.forEach(observer => observer())\r\n\t}\r\n\r\n\tprivate items: Array<IItem> = []\r\n\tprivate observers: Array<IObserver> = []\r\n\tprivate history: IHistory\r\n}\r\n\r\nexport default CEditor","import IController from \"./IController\"\r\nimport IEditor from \"../model/Editor/IEditor\"\r\nimport IItem from \"../model/Item/IItem\"\r\nimport Point from \"../model/utils/types/Point\"\r\nimport Size from \"../model/utils/types/Size\"\r\n\r\nclass CController implements IController\r\n{\r\n\tconstructor(model: IEditor)\r\n\t{\r\n\t\tthis.model = model\r\n\t}\r\n\r\n\tpublic GetShapes(): Array<IItem>\r\n\t{\r\n\t\treturn this.model.GetItems()\r\n\t}\r\n\r\n\tpublic AddShape(type: string): void\r\n\t{\r\n\t\tthis.model.AddShape(type)\r\n\t}\r\n\r\n\tpublic AddImage(path: string): void\r\n\t{\r\n\t\tthis.model.AddShape(\"Image\", path)\r\n\t}\r\n\r\n\tpublic DeleteItem(id: string): void\r\n\t{\r\n\t\tthis.model.DeleteShape(id)\r\n\t}\r\n\r\n\tpublic MoveItem(id: string, point: Point): void\r\n\t{\r\n\t\tthis.model.MoveShape(id, point)\r\n\t}\r\n\r\n\tpublic ResizeItem(id: string, size: Size): void\r\n\t{\r\n\t\tthis.model.ResizeShape(id, size)\r\n\t}\r\n\r\n\tpublic CanUndo(): boolean\r\n\t{\r\n\t\treturn this.model.CanUndo()\r\n\t}\r\n\r\n\tpublic Undo(): void\r\n\t{\r\n\t\tthis.model.Undo()\r\n\t}\r\n\r\n\tpublic CanRedo(): boolean\r\n\t{\r\n\t\treturn this.model.CanRedo()\r\n\t}\r\n\r\n\tpublic Redo(): void\r\n\t{\r\n\t\tthis.model.Redo()\r\n\t}\r\n\r\n\tprivate model: IEditor\r\n}\r\n\r\nexport default CController","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport IEditor from \"./model/Editor/IEditor\"\r\nimport IController from \"./controller/IController\"\r\nimport View from \"./view/components/View\"\r\nimport CEditor from \"./model/Editor/CEditor\"\r\nimport CController from \"./controller/CController\"\r\n\r\nconst root = ReactDOM.createRoot(\r\n\tdocument.getElementById('root') as HTMLElement\r\n);\r\n\r\nconst editor: IEditor = new CEditor()\r\nconst controller: IController = new CController(editor)\r\n\r\nfunction render()\r\n{\r\n\troot.render(\r\n\t\t<React.StrictMode>\r\n\t\t\t<View items={editor.GetItems()} controller={controller}/>\r\n\t\t</React.StrictMode>\r\n\t);\r\n}\r\n\r\neditor.RegisterObserver(render)\r\n\r\nrender()"],"sourceRoot":""}